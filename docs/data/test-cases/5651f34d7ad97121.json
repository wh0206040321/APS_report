{"uid":"5651f34d7ad97121","name":"test_materialBOM_add_success","fullName":"Tests.test_material.test_materialBOM.TestItemPage#test_materialBOM_add_success","historyId":"dee38804567cadff2b6b49cceac6c0ec","time":{"start":1770341360985,"stop":1770341445530,"duration":84545},"status":"failed","statusMessage":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","statusTrace":"self = <test_material.test_materialBOM.TestItemPage object at 0x0000023AD934E440>, login_to_item = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"0380840885c11b3a5ea7df0a977a4f55\")>\n\n    #     assert not self.item.has_fail_message()\n    \n    @allure.story(\"新增全部数据测试\")\n    # @pytest.mark.run(order=1)\n    def test_materialBOM_add_success(self, login_to_item):\n        text_str = \"111\"\n        date_str = \"2025/07/23 00:00:00\"\n        input_value = '11测试全部数据'\n        self.item.click_add_button()\n        self.item.batch_modify_inputs(self.all_input_xpath_list, input_value)\n        self.item.batch_modify_inputs(self.all_date_xpath_list, date_str)\n        self.item.batch_modify_inputs(self.all_num_input_xpath_list, text_str)\n        self.item.batch_modify_select_input(self.select_list)\n        self.item.batch_click_input(self.click_list)\n    \n        select_input_list = [item[\"select\"] for item in self.select_list]\n        all_value = self.all_input_xpath_list + self.all_date_xpath_list + self.all_num_input_xpath_list + select_input_list\n        all_click = len(self.click_list)\n        len_num = len(all_value)\n        before_all_value = self.item.batch_acquisition_inputs(all_value)\n        before_click_class = self.item.get_checkbox_value(self.click_list)\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        self.item.get_find_message()\n        self.item.wait_for_loading_to_disappear()\n        self.item.right_refresh('物料BOM')\n        self.item.wait_for_loading_to_disappear()\n        num = self.item.go_settings_page()\n        sleep(1)\n        self.item.select_input('产品编码', input_value)\n        sleep(1)\n        self.item.click_button(\n            f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        sleep(1)\n        self.item.click_edi_button()\n        after_all_value = self.item.batch_acquisition_inputs(all_value)\n        after_click_class = self.item.get_checkbox_value(self.click_list)\n        username = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新者 \"]]/following-sibling::div//input').get_attribute(\n            \"value\")\n        updatatime = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新时间 \"]]/following-sibling::div//input').get_attribute(\"value\")\n        today_str = date.today().strftime('%Y/%m/%d')\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"取消\"]')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = self.item.finds_elements(By.XPATH,\n                                       f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        if len(ele) == 1:\n            self.item.click_button(\n                f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n            self.item.click_del_button()  # 点击删除\n            self.item.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            self.item.get_find_message()\n>           self.item.wait_for_loading_to_disappear()\nE           AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\nE             \nE             At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             \nE             Full diff:\nE             \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE             \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE             \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\nE             \nE             ...Full output truncated (54 lines hidden), use '-vv' to show)\n\nTests\\test_material\\test_materialBOM.py:415: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_item","time":{"start":1770341111517,"stop":1770341128263,"duration":16746},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1770341360983,"stop":1770341360984,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","statusTrace":"self = <test_material.test_materialBOM.TestItemPage object at 0x0000023AD934E440>, login_to_item = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"0380840885c11b3a5ea7df0a977a4f55\")>\n\n    #     assert not self.item.has_fail_message()\n    \n    @allure.story(\"新增全部数据测试\")\n    # @pytest.mark.run(order=1)\n    def test_materialBOM_add_success(self, login_to_item):\n        text_str = \"111\"\n        date_str = \"2025/07/23 00:00:00\"\n        input_value = '11测试全部数据'\n        self.item.click_add_button()\n        self.item.batch_modify_inputs(self.all_input_xpath_list, input_value)\n        self.item.batch_modify_inputs(self.all_date_xpath_list, date_str)\n        self.item.batch_modify_inputs(self.all_num_input_xpath_list, text_str)\n        self.item.batch_modify_select_input(self.select_list)\n        self.item.batch_click_input(self.click_list)\n    \n        select_input_list = [item[\"select\"] for item in self.select_list]\n        all_value = self.all_input_xpath_list + self.all_date_xpath_list + self.all_num_input_xpath_list + select_input_list\n        all_click = len(self.click_list)\n        len_num = len(all_value)\n        before_all_value = self.item.batch_acquisition_inputs(all_value)\n        before_click_class = self.item.get_checkbox_value(self.click_list)\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        self.item.get_find_message()\n        self.item.wait_for_loading_to_disappear()\n        self.item.right_refresh('物料BOM')\n        self.item.wait_for_loading_to_disappear()\n        num = self.item.go_settings_page()\n        sleep(1)\n        self.item.select_input('产品编码', input_value)\n        sleep(1)\n        self.item.click_button(\n            f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        sleep(1)\n        self.item.click_edi_button()\n        after_all_value = self.item.batch_acquisition_inputs(all_value)\n        after_click_class = self.item.get_checkbox_value(self.click_list)\n        username = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新者 \"]]/following-sibling::div//input').get_attribute(\n            \"value\")\n        updatatime = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新时间 \"]]/following-sibling::div//input').get_attribute(\"value\")\n        today_str = date.today().strftime('%Y/%m/%d')\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"取消\"]')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = self.item.finds_elements(By.XPATH,\n                                       f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        if len(ele) == 1:\n            self.item.click_button(\n                f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n            self.item.click_del_button()  # 点击删除\n            self.item.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            self.item.get_find_message()\n>           self.item.wait_for_loading_to_disappear()\nE           AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\nE             \nE             At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             \nE             Full diff:\nE             \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE             \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE             \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\nE             \nE             ...Full output truncated (54 lines hidden), use '-vv' to show)\n\nTests\\test_material\\test_materialBOM.py:415: AssertionError","steps":[],"attachments":[{"uid":"ab1257cf04907329","name":"test_materialBOM_add_success_20260206_093045","source":"ab1257cf04907329.png","type":"image/png","size":107231},{"uid":"fb57b23ce7fad864","name":"log","source":"fb57b23ce7fad864.txt","type":"text/plain","size":26957}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"login_to_item::0","time":{"start":1770341836423,"stop":1770341838606,"duration":2183},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"物料BOM测试用例"},{"name":"story","value":"新增全部数据测试"},{"name":"parentSuite","value":"Tests.test_material"},{"name":"suite","value":"test_materialBOM"},{"name":"subSuite","value":"TestItemPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"18732-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_material.test_materialBOM"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"5651f34d7ad97121.json","parameterValues":[]}