{"uid":"7556d81052d2eea","name":"test_affairs_process_nextsuccess3","fullName":"Tests.test_system.test_affairs.TestAffairsPage#test_affairs_process_nextsuccess3","historyId":"5c4b4259f3c9d008ed302edb58b2f560","time":{"start":1768418343453,"stop":1768418367084,"duration":23631},"status":"failed","statusMessage":"AssertionError: assert (0 == 1)\n +  where 0 = len([])","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001E1A66AC610>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"1e3b34b7d6c37aa59ccab5aca3032954\")>\n\n    @allure.story(\"我的流程-频率为每天，添加搜索事务,添加两个事务点击保存，保存成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_process_nextsuccess3(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试流程7\"\n        sel1 = \"添加事务模版1\"\n        sel2 = \"添加全部模版成功\"\n        affairs.click_process()\n        affairs.add_process(name=name, type=\"服务\", frequency=\"每天\")\n        affairs.click_next()\n        value1 = affairs.add_process_affairs(add=False, sel=sel1)\n        value2 = affairs.add_process_affairs(add=False, sel=sel2)\n        affairs.click_save()\n        message = affairs.get_find_message()\n        affairs.right_refresh()\n        affairs.click_process()\n        affairs.wait_for_el_loading_mask()\n        ele1 = affairs.finds_elements(By.XPATH, f'//table[@class=\"el-table__body\"]//tr[td[2][div[text()=\"{name}\"]]]')\n        # 一次性获取所有匹配的元素\n        elements = affairs.finds_elements(\n            By.XPATH,\n            f'//table[@class=\"el-table__body\"]//tr[td[2][div[text()=\"{name}\"]]]/td[1]//div[@class=\"flow-direction\"]/div'\n        )\n    \n        # 直接提取所有元素的文本到列表\n        list_ = [element.text for element in elements]\n        assert message == \"新增成功！\"\n>       assert len(ele1) == 1 and len(list_) == 2 and value1[1] == sel1 and value2[1] == sel2\nE       assert (0 == 1)\nE        +  where 0 = len([])\n\nTests\\test_system\\test_affairs.py:900: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_affairs","time":{"start":1768418328539,"stop":1768418343452,"duration":14913},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (0 == 1)\n +  where 0 = len([])","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001E1A66AC610>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"1e3b34b7d6c37aa59ccab5aca3032954\")>\n\n    @allure.story(\"我的流程-频率为每天，添加搜索事务,添加两个事务点击保存，保存成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_process_nextsuccess3(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试流程7\"\n        sel1 = \"添加事务模版1\"\n        sel2 = \"添加全部模版成功\"\n        affairs.click_process()\n        affairs.add_process(name=name, type=\"服务\", frequency=\"每天\")\n        affairs.click_next()\n        value1 = affairs.add_process_affairs(add=False, sel=sel1)\n        value2 = affairs.add_process_affairs(add=False, sel=sel2)\n        affairs.click_save()\n        message = affairs.get_find_message()\n        affairs.right_refresh()\n        affairs.click_process()\n        affairs.wait_for_el_loading_mask()\n        ele1 = affairs.finds_elements(By.XPATH, f'//table[@class=\"el-table__body\"]//tr[td[2][div[text()=\"{name}\"]]]')\n        # 一次性获取所有匹配的元素\n        elements = affairs.finds_elements(\n            By.XPATH,\n            f'//table[@class=\"el-table__body\"]//tr[td[2][div[text()=\"{name}\"]]]/td[1]//div[@class=\"flow-direction\"]/div'\n        )\n    \n        # 直接提取所有元素的文本到列表\n        list_ = [element.text for element in elements]\n        assert message == \"新增成功！\"\n>       assert len(ele1) == 1 and len(list_) == 2 and value1[1] == sel1 and value2[1] == sel2\nE       assert (0 == 1)\nE        +  where 0 = len([])\n\nTests\\test_system\\test_affairs.py:900: AssertionError","steps":[],"attachments":[{"uid":"721adc7a50705ffa","name":"test_affairs_process_nextsuccess3_20260115_031927","source":"721adc7a50705ffa.png","type":"image/png","size":109625},{"uid":"59e00f92bca6d3d9","name":"test_affairs_process_nextsuccess3_20260115_031927","source":"59e00f92bca6d3d9.png","type":"image/png","size":110052},{"uid":"97b692e86c6e5b9b","name":"test_affairs_process_nextsuccess3_20260115_031927","source":"97b692e86c6e5b9b.png","type":"image/png","size":126073},{"uid":"89e595ed536a96cc","name":"log","source":"89e595ed536a96cc.txt","type":"text/plain","size":5591}],"parameters":[],"attachmentStep":false,"hasContent":true,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":4},"afterStages":[{"name":"login_to_affairs::0","time":{"start":1768418367429,"stop":1768418369607,"duration":2178},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"feature","value":"事务管理页用例"},{"name":"story","value":"我的流程-频率为每天，添加搜索事务,添加两个事务点击保存，保存成功"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_affairs"},{"name":"subSuite","value":"TestAffairsPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"6652-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_affairs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"7556d81052d2eea.json","parameterValues":[]}