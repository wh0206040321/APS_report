{"uid":"f94929dc36452349","name":"test_affairs_template_updattypesuccess","fullName":"Tests.test_system.test_affairs.TestAffairsPage#test_affairs_template_updattypesuccess","historyId":"df7c4ddeb24317083043fa88c2816ded","time":{"start":1761248968116,"stop":1761248981399,"duration":13283},"status":"failed","statusMessage":"AssertionError: assert (1 == 1 and '接口' == '存储过程'\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"bd689e3bc9852d9bec0e12b40dc5b8cf\", element=\"f.5BC79D15AFA0538F542FB7D826CDA45B.d.98C847A34B46C018CF872245A04C39B9.e.84\")>])\n  \n  \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001FC18BDAAA0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"bd689e3bc9852d9bec0e12b40dc5b8cf\")>\n\n    @allure.story(\"事务模版-切换事务类型，修改配置参数成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_updattypesuccess(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试事务模版7\"\n        type = \"存储过程\"\n        affairs.hover(name=name, edi=\"编辑\")\n        affairs.click_button('//div[label[text()=\"事务类型\"]]//input')\n        affairs.click_button(f'//span[text()=\"{type}\"]')\n        affairs.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n        sleep(1)\n        affairs.click_button('//div[label[text()=\"配置参数\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//i')\n        affairs.click_button('//li[text()=\"APS_MP_Holiday\"]')\n        num = len(driver.find_elements(By.XPATH, '//table[@class=\"vxe-table--body\"]//tr'))\n        for i in range(1, 1 + num):\n            affairs.enter_texts(f'//table[@class=\"vxe-table--body\"]//tr[{i}]/td[3]//input', \"1\")\n        affairs.click_button(\n            '(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[2]//span[text()=\"确定\"]')\n        type_ = affairs.get_find_element_xpath('//div[label[text()=\"事务类型\"]]//input').get_attribute(\"value\")\n        sleep(2)\n        before_parameter = affairs.get_find_element_xpath('//div[label[text()=\"配置参数\"]]//input').get_attribute(\"value\")\n        affairs.click_button(\n            '(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[1]//span[text()=\"确定\"]')\n        affairs.get_find_message()\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n        value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\n>       assert len(ele) == 1 and value == type_ and 'APS_MP_Holiday' in before_parameter\nE       assert (1 == 1 and '接口' == '存储过程'\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"bd689e3bc9852d9bec0e12b40dc5b8cf\", element=\"f.5BC79D15AFA0538F542FB7D826CDA45B.d.98C847A34B46C018CF872245A04C39B9.e.84\")>])\nE         \nE         \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_system\\test_affairs.py:482: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_affairs","time":{"start":1761248947056,"stop":1761248968113,"duration":21057},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (1 == 1 and '接口' == '存储过程'\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"bd689e3bc9852d9bec0e12b40dc5b8cf\", element=\"f.5BC79D15AFA0538F542FB7D826CDA45B.d.98C847A34B46C018CF872245A04C39B9.e.84\")>])\n  \n  \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x000001FC18BDAAA0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"bd689e3bc9852d9bec0e12b40dc5b8cf\")>\n\n    @allure.story(\"事务模版-切换事务类型，修改配置参数成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_updattypesuccess(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试事务模版7\"\n        type = \"存储过程\"\n        affairs.hover(name=name, edi=\"编辑\")\n        affairs.click_button('//div[label[text()=\"事务类型\"]]//input')\n        affairs.click_button(f'//span[text()=\"{type}\"]')\n        affairs.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n        sleep(1)\n        affairs.click_button('//div[label[text()=\"配置参数\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//i')\n        affairs.click_button('//li[text()=\"APS_MP_Holiday\"]')\n        num = len(driver.find_elements(By.XPATH, '//table[@class=\"vxe-table--body\"]//tr'))\n        for i in range(1, 1 + num):\n            affairs.enter_texts(f'//table[@class=\"vxe-table--body\"]//tr[{i}]/td[3]//input', \"1\")\n        affairs.click_button(\n            '(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[2]//span[text()=\"确定\"]')\n        type_ = affairs.get_find_element_xpath('//div[label[text()=\"事务类型\"]]//input').get_attribute(\"value\")\n        sleep(2)\n        before_parameter = affairs.get_find_element_xpath('//div[label[text()=\"配置参数\"]]//input').get_attribute(\"value\")\n        affairs.click_button(\n            '(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[1]//span[text()=\"确定\"]')\n        affairs.get_find_message()\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n        value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\n>       assert len(ele) == 1 and value == type_ and 'APS_MP_Holiday' in before_parameter\nE       assert (1 == 1 and '接口' == '存储过程'\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"bd689e3bc9852d9bec0e12b40dc5b8cf\", element=\"f.5BC79D15AFA0538F542FB7D826CDA45B.d.98C847A34B46C018CF872245A04C39B9.e.84\")>])\nE         \nE         \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_system\\test_affairs.py:482: AssertionError","steps":[],"attachments":[{"uid":"587d18d5c88972f2","name":"test_affairs_template_updattypesuccess_failure","source":"587d18d5c88972f2.png","type":"image/png","size":96944},{"uid":"6aec9b059b27e63","name":"test_affairs_template_updattypesuccess_source","source":"6aec9b059b27e63.html","type":"text/html","size":1149738},{"uid":"9e6f7cdf69c47ed6","name":"log","source":"9e6f7cdf69c47ed6.txt","type":"text/plain","size":2209}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"attachmentsCount":3,"shouldDisplayMessage":true},"afterStages":[{"name":"login_to_affairs::0","time":{"start":1761248982209,"stop":1761248984791,"duration":2582},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"feature","value":"事务管理页用例"},{"name":"story","value":"事务模版-切换事务类型，修改配置参数成功"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_affairs"},{"name":"subSuite","value":"TestAffairsPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"21764-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_affairs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"f94929dc36452349.json","parameterValues":[]}