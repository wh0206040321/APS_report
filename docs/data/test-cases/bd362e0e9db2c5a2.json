{"uid":"bd362e0e9db2c5a2","name":"test_affairs_template_updattypesuccess","fullName":"Tests.test_system.test_affairs.TestAffairsPage#test_affairs_template_updattypesuccess","historyId":"df7c4ddeb24317083043fa88c2816ded","time":{"start":1761158534268,"stop":1761158545856,"duration":11588},"status":"failed","statusMessage":"AssertionError: assert (1 == 1 and '接口' == '存储过程'\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"9b0112480b99286aa52490a1224ff4e0\", element=\"f.1EAD49A5D318AFAF4F3391350D68C54B.d.19D4FEF40AD7E005A046CAEC80F41FEB.e.167\")>])\n  \n  \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x0000027FE5AFDCF0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"9b0112480b99286aa52490a1224ff4e0\")>\n\n    @allure.story(\"事务模版-切换事务类型，修改配置参数成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_updattypesuccess(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试事务模版7\"\n        type = \"存储过程\"\n        affairs.hover(name=name, edi=\"编辑\")\n        affairs.click_button('//div[label[text()=\"事务类型\"]]//input')\n        affairs.click_button(f'//span[text()=\"{type}\"]')\n        affairs.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n        sleep(1)\n        affairs.click_button('//div[label[text()=\"配置参数\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//i')\n        affairs.click_button('//li[text()=\"APS_MP_Holiday\"]')\n        num = len(driver.find_elements(By.XPATH, '//table[@class=\"vxe-table--body\"]//tr'))\n        for i in range(1, 1 + num):\n            affairs.enter_texts(f'//table[@class=\"vxe-table--body\"]//tr[{i}]/td[3]//input', \"1\")\n        affairs.click_button(\n            '(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[2]//span[text()=\"确定\"]')\n        type_ = affairs.get_find_element_xpath('//div[label[text()=\"事务类型\"]]//input').get_attribute(\"value\")\n        sleep(2)\n        before_parameter = affairs.get_find_element_xpath('//div[label[text()=\"配置参数\"]]//input').get_attribute(\"value\")\n        affairs.click_button(\n            '(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[1]//span[text()=\"确定\"]')\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n        value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\n>       assert len(ele) == 1 and value == type_ and 'APS_MP_Holiday' in before_parameter\nE       assert (1 == 1 and '接口' == '存储过程'\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"9b0112480b99286aa52490a1224ff4e0\", element=\"f.1EAD49A5D318AFAF4F3391350D68C54B.d.19D4FEF40AD7E005A046CAEC80F41FEB.e.167\")>])\nE         \nE         \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_system\\test_affairs.py:481: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_affairs","time":{"start":1761158517648,"stop":1761158534267,"duration":16619},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (1 == 1 and '接口' == '存储过程'\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"9b0112480b99286aa52490a1224ff4e0\", element=\"f.1EAD49A5D318AFAF4F3391350D68C54B.d.19D4FEF40AD7E005A046CAEC80F41FEB.e.167\")>])\n  \n  \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x0000027FE5AFDCF0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"9b0112480b99286aa52490a1224ff4e0\")>\n\n    @allure.story(\"事务模版-切换事务类型，修改配置参数成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_updattypesuccess(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试事务模版7\"\n        type = \"存储过程\"\n        affairs.hover(name=name, edi=\"编辑\")\n        affairs.click_button('//div[label[text()=\"事务类型\"]]//input')\n        affairs.click_button(f'//span[text()=\"{type}\"]')\n        affairs.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n        sleep(1)\n        affairs.click_button('//div[label[text()=\"配置参数\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//i')\n        affairs.click_button('//li[text()=\"APS_MP_Holiday\"]')\n        num = len(driver.find_elements(By.XPATH, '//table[@class=\"vxe-table--body\"]//tr'))\n        for i in range(1, 1 + num):\n            affairs.enter_texts(f'//table[@class=\"vxe-table--body\"]//tr[{i}]/td[3]//input', \"1\")\n        affairs.click_button(\n            '(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[2]//span[text()=\"确定\"]')\n        type_ = affairs.get_find_element_xpath('//div[label[text()=\"事务类型\"]]//input').get_attribute(\"value\")\n        sleep(2)\n        before_parameter = affairs.get_find_element_xpath('//div[label[text()=\"配置参数\"]]//input').get_attribute(\"value\")\n        affairs.click_button(\n            '(//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"])[1]//span[text()=\"确定\"]')\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n        value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\n>       assert len(ele) == 1 and value == type_ and 'APS_MP_Holiday' in before_parameter\nE       assert (1 == 1 and '接口' == '存储过程'\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"9b0112480b99286aa52490a1224ff4e0\", element=\"f.1EAD49A5D318AFAF4F3391350D68C54B.d.19D4FEF40AD7E005A046CAEC80F41FEB.e.167\")>])\nE         \nE         \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_system\\test_affairs.py:481: AssertionError","steps":[],"attachments":[{"uid":"52c371b30333b33a","name":"test_affairs_template_updattypesuccess_failure","source":"52c371b30333b33a.png","type":"image/png","size":117470},{"uid":"a14b9b6530aedd2c","name":"test_affairs_template_updattypesuccess_source","source":"a14b9b6530aedd2c.html","type":"text/html","size":1127702},{"uid":"c22f4ac008c6b465","name":"log","source":"c22f4ac008c6b465.txt","type":"text/plain","size":2209}],"parameters":[],"attachmentsCount":3,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"login_to_affairs::0","time":{"start":1761158546745,"stop":1761158549246,"duration":2501},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"事务管理页用例"},{"name":"story","value":"事务模版-切换事务类型，修改配置参数成功"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_affairs"},{"name":"subSuite","value":"TestAffairsPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"25856-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_affairs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"bd362e0e9db2c5a2.json","parameterValues":[]}