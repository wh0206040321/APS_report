{"uid":"dcc3de506fc751a","name":"test_user_t2","fullName":"Tests.test_system.test_userRole.TestUserRolePage#test_user_t2","historyId":"59cb867b13457170d2c8183b0531c682","time":{"start":1764021256875,"stop":1764021290481,"duration":33606},"status":"failed","statusMessage":"AssertionError: assert 1 == 0\n +  where 0 = len([])","statusTrace":"self = <test_system.test_userRole.TestUserRolePage object at 0x000001E5C1759300>, login_to_userrole = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"3c19c6d539995ce8efee06cb68ab6038\")>\n\n    @allure.story(\"设置用户锁定成功\")\n    # @pytest.mark.run(order=1)\n    def test_user_t2(self, login_to_userrole):\n        driver = login_to_userrole  # WebDriver 实例\n        user = UserRolePage(driver)  # 用 driver 初始化 UserRolePage\n        page = LoginPage(driver)\n        name = '1user2'\n        password = 'Qw1234561'\n        user.select_input(name)\n        sleep(1)\n        user.click_button(f'//table[@class=\"vxe-table--body\"]//tr/td[2]//span[text()=\"{name}\"]')\n        sleep(1)\n        user.click_all_button(\"编辑\")\n        sleep(1)\n        sy = user.get_find_element_xpath('(//div[label[text()=\"是否锁定\"]]/div//span)[1]').get_attribute(\"class\")\n        if 'ivu-checkbox-checked' not in sy:\n            user.click_button('(//div[label[text()=\"是否锁定\"]]/div//span)[1]')\n        user.click_all_button(\"保存\")\n        sleep(1)\n        message = user.get_find_message()\n    \n        user.click_button('//div[@class=\"flex-alignItems-center\"]')\n        user.click_button('//ul/li/div[text()=\" 注销 \"]')\n        page.login(name, password, '1测试计划单元小日程')\n        for i in range(6):\n            user.click_button('//button[span[text()=\"关闭\"]]')\n            sleep(1)\n            page.click_login_button()\n            sleep(1)\n        user.click_button('//button[span[text()=\"关闭\"]]')\n        page.login(name, 'Qw123456', '1测试计划单元小日程')\n        ele_err = user.finds_elements(By.XPATH, f'//div[@class=\"ivu-modal-body\"]//div[text()=\" 账户被锁定,请稍后再试. \"]')\n>       assert 1 == len(ele_err)\nE       assert 1 == 0\nE        +  where 0 = len([])\n\nTests\\test_system\\test_userRole.py:508: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_userrole","time":{"start":1764021245279,"stop":1764021256874,"duration":11595},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 1 == 0\n +  where 0 = len([])","statusTrace":"self = <test_system.test_userRole.TestUserRolePage object at 0x000001E5C1759300>, login_to_userrole = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"3c19c6d539995ce8efee06cb68ab6038\")>\n\n    @allure.story(\"设置用户锁定成功\")\n    # @pytest.mark.run(order=1)\n    def test_user_t2(self, login_to_userrole):\n        driver = login_to_userrole  # WebDriver 实例\n        user = UserRolePage(driver)  # 用 driver 初始化 UserRolePage\n        page = LoginPage(driver)\n        name = '1user2'\n        password = 'Qw1234561'\n        user.select_input(name)\n        sleep(1)\n        user.click_button(f'//table[@class=\"vxe-table--body\"]//tr/td[2]//span[text()=\"{name}\"]')\n        sleep(1)\n        user.click_all_button(\"编辑\")\n        sleep(1)\n        sy = user.get_find_element_xpath('(//div[label[text()=\"是否锁定\"]]/div//span)[1]').get_attribute(\"class\")\n        if 'ivu-checkbox-checked' not in sy:\n            user.click_button('(//div[label[text()=\"是否锁定\"]]/div//span)[1]')\n        user.click_all_button(\"保存\")\n        sleep(1)\n        message = user.get_find_message()\n    \n        user.click_button('//div[@class=\"flex-alignItems-center\"]')\n        user.click_button('//ul/li/div[text()=\" 注销 \"]')\n        page.login(name, password, '1测试计划单元小日程')\n        for i in range(6):\n            user.click_button('//button[span[text()=\"关闭\"]]')\n            sleep(1)\n            page.click_login_button()\n            sleep(1)\n        user.click_button('//button[span[text()=\"关闭\"]]')\n        page.login(name, 'Qw123456', '1测试计划单元小日程')\n        ele_err = user.finds_elements(By.XPATH, f'//div[@class=\"ivu-modal-body\"]//div[text()=\" 账户被锁定,请稍后再试. \"]')\n>       assert 1 == len(ele_err)\nE       assert 1 == 0\nE        +  where 0 = len([])\n\nTests\\test_system\\test_userRole.py:508: AssertionError","steps":[],"attachments":[{"uid":"bbe84a79ceeac5fb","name":"test_user_t2_failure","source":"bbe84a79ceeac5fb.png","type":"image/png","size":176238},{"uid":"ab4d73885a23129e","name":"test_user_t2_source","source":"ab4d73885a23129e.html","type":"text/html","size":888594},{"uid":"2ada14a564a695e9","name":"log","source":"2ada14a564a695e9.txt","type":"text/plain","size":11567}],"parameters":[],"attachmentStep":false,"hasContent":true,"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true},"afterStages":[{"name":"login_to_userrole::0","time":{"start":1764021290722,"stop":1764021292908,"duration":2186},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"hasContent":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"feature","value":"用户权限管理页用例"},{"name":"story","value":"设置用户锁定成功"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_userRole"},{"name":"subSuite","value":"TestUserRolePage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"17864-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_userRole"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"87717a4e1072ab9c","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 0 = len([])","time":{"start":1764021212718,"stop":1764021242817,"duration":30099}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"dcc3de506fc751a.json","parameterValues":[]}