{"uid":"73fd41c7dd4b13f4","name":"test_materialBOM_add_success","fullName":"Tests.test_material.test_materialBOM.TestItemPage#test_materialBOM_add_success","historyId":"dee38804567cadff2b6b49cceac6c0ec","time":{"start":1770315371274,"stop":1770315456697,"duration":85423},"status":"failed","statusMessage":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","statusTrace":"self = <test_material.test_materialBOM.TestItemPage object at 0x000001B9381782B0>, login_to_item = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"60ad07193c01ec642af9c18476a0a3ae\")>\n\n    @allure.story(\"新增全部数据测试\")\n    # @pytest.mark.run(order=1)\n    def test_materialBOM_add_success(self, login_to_item):\n        text_str = \"111\"\n        date_str = \"2025/07/23 00:00:00\"\n        input_value = '11测试全部数据'\n        self.item.click_add_button()\n        self.item.batch_modify_inputs(self.all_input_xpath_list, input_value)\n        self.item.batch_modify_inputs(self.all_date_xpath_list, date_str)\n        self.item.batch_modify_inputs(self.all_num_input_xpath_list, text_str)\n        self.item.batch_modify_select_input(self.select_list)\n        self.item.batch_click_input(self.click_list)\n    \n        select_input_list = [item[\"select\"] for item in self.select_list]\n        all_value = self.all_input_xpath_list + self.all_date_xpath_list + self.all_num_input_xpath_list + select_input_list\n        all_click = len(self.click_list)\n        len_num = len(all_value)\n        before_all_value = self.item.batch_acquisition_inputs(all_value)\n        before_click_class = self.item.get_checkbox_value(self.click_list)\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        self.item.get_find_message()\n        self.item.wait_for_loading_to_disappear()\n        self.item.right_refresh('物料BOM')\n        self.item.wait_for_loading_to_disappear()\n        num = self.item.go_settings_page()\n        sleep(1)\n        self.item.select_input('产品编码', input_value)\n        sleep(1)\n        self.item.click_button(\n            f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        sleep(1)\n        self.item.click_edi_button()\n        after_all_value = self.item.batch_acquisition_inputs(all_value)\n        after_click_class = self.item.get_checkbox_value(self.click_list)\n        username = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新者 \"]]/following-sibling::div//input').get_attribute(\n            \"value\")\n        updatatime = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新时间 \"]]/following-sibling::div//input').get_attribute(\"value\")\n        today_str = date.today().strftime('%Y/%m/%d')\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"取消\"]')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = self.item.finds_elements(By.XPATH,\n                                       f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        if len(ele) == 1:\n            self.item.click_button(\n                f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n            self.item.click_del_button()  # 点击删除\n            self.item.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            self.item.get_find_message()\n            self.item.wait_for_loading_to_disappear()\n            self.item.right_refresh('物料BOM')\n>       assert before_all_value == after_all_value and username == DateDriver().username and today_str in updatatime and int(\n            num) == (int(len_num) + int(all_click) + 18) and after_click_class == before_click_class\nE       AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\nE         \nE         At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (54 lines hidden), use '-vv' to show)\n\nTests\\test_material\\test_materialBOM.py:415: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_item","time":{"start":1770315077640,"stop":1770315093494,"duration":15854},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"setup","time":{"start":1770315371272,"stop":1770315371273,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","statusTrace":"self = <test_material.test_materialBOM.TestItemPage object at 0x000001B9381782B0>, login_to_item = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"60ad07193c01ec642af9c18476a0a3ae\")>\n\n    @allure.story(\"新增全部数据测试\")\n    # @pytest.mark.run(order=1)\n    def test_materialBOM_add_success(self, login_to_item):\n        text_str = \"111\"\n        date_str = \"2025/07/23 00:00:00\"\n        input_value = '11测试全部数据'\n        self.item.click_add_button()\n        self.item.batch_modify_inputs(self.all_input_xpath_list, input_value)\n        self.item.batch_modify_inputs(self.all_date_xpath_list, date_str)\n        self.item.batch_modify_inputs(self.all_num_input_xpath_list, text_str)\n        self.item.batch_modify_select_input(self.select_list)\n        self.item.batch_click_input(self.click_list)\n    \n        select_input_list = [item[\"select\"] for item in self.select_list]\n        all_value = self.all_input_xpath_list + self.all_date_xpath_list + self.all_num_input_xpath_list + select_input_list\n        all_click = len(self.click_list)\n        len_num = len(all_value)\n        before_all_value = self.item.batch_acquisition_inputs(all_value)\n        before_click_class = self.item.get_checkbox_value(self.click_list)\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        self.item.get_find_message()\n        self.item.wait_for_loading_to_disappear()\n        self.item.right_refresh('物料BOM')\n        self.item.wait_for_loading_to_disappear()\n        num = self.item.go_settings_page()\n        sleep(1)\n        self.item.select_input('产品编码', input_value)\n        sleep(1)\n        self.item.click_button(\n            f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        sleep(1)\n        self.item.click_edi_button()\n        after_all_value = self.item.batch_acquisition_inputs(all_value)\n        after_click_class = self.item.get_checkbox_value(self.click_list)\n        username = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新者 \"]]/following-sibling::div//input').get_attribute(\n            \"value\")\n        updatatime = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新时间 \"]]/following-sibling::div//input').get_attribute(\"value\")\n        today_str = date.today().strftime('%Y/%m/%d')\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"取消\"]')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = self.item.finds_elements(By.XPATH,\n                                       f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        if len(ele) == 1:\n            self.item.click_button(\n                f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n            self.item.click_del_button()  # 点击删除\n            self.item.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            self.item.get_find_message()\n            self.item.wait_for_loading_to_disappear()\n            self.item.right_refresh('物料BOM')\n>       assert before_all_value == after_all_value and username == DateDriver().username and today_str in updatatime and int(\n            num) == (int(len_num) + int(all_click) + 18) and after_click_class == before_click_class\nE       AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\nE         \nE         At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (54 lines hidden), use '-vv' to show)\n\nTests\\test_material\\test_materialBOM.py:415: AssertionError","steps":[],"attachments":[{"uid":"e20a700ee7816fae","name":"test_materialBOM_add_success_20260206_021736","source":"e20a700ee7816fae.png","type":"image/png","size":107231},{"uid":"f985157906cb78fc","name":"log","source":"f985157906cb78fc.txt","type":"text/plain","size":53915}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"attachmentsCount":2,"shouldDisplayMessage":true},"afterStages":[{"name":"login_to_item::0","time":{"start":1770315816651,"stop":1770315818921,"duration":2270},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"feature","value":"物料BOM测试用例"},{"name":"story","value":"新增全部数据测试"},{"name":"parentSuite","value":"Tests.test_material"},{"name":"suite","value":"test_materialBOM"},{"name":"subSuite","value":"TestItemPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"28724-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_material.test_materialBOM"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"73fd41c7dd4b13f4.json","parameterValues":[]}