{"uid":"c0461d6610e68543","name":"test_inTransitInventory_add_success","fullName":"Tests.test_material.test_inTransitInventory.TestItemPage#test_inTransitInventory_add_success","historyId":"8028b7067f82b4e798dd315bd181c0aa","time":{"start":1770347253685,"stop":1770347317665,"duration":63980},"status":"failed","statusMessage":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...1测试全部数据', ...]\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (21 lines hidden), use '-vv' to show and 'hongaoqing' == 'hongaoqing'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m hongaoqing\u001B[90m\u001B[39;49;00m and '2026/02/06' in '2026/02/06 11:07:52' and 28 == (24 + 2))\n +  where 28 = int('28')\n +  and   24 = int(24)","statusTrace":"self = <test_material.test_inTransitInventory.TestItemPage object at 0x000001FDBCCE2350>, login_to_item = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"36a04c1803ccd2aebdd8e0923150908c\")>\n\n    @allure.story(\"新增全部数据测试\")\n    # @pytest.mark.run(order=1)\n    def test_inTransitInventory_add_success(self, login_to_item):\n        input_value = '11测试全部数据'\n        # 输入框要修改的值\n        text_str = \"111\"\n        # 日期要修改的值\n        date_str = \"2025/07/17 00:00:00\"\n        self.item.click_add_button()  # 点击添加\n        self.item.batch_modify_inputs(self.all_input_xpath_list, input_value)\n        self.item.batch_modify_inputs(self.all_date_xpath_list, date_str)\n        self.item.batch_modify_inputs(self.all_num_input_xpath_list, text_str)\n    \n        all_value = self.all_input_xpath_list + self.all_date_xpath_list + self.all_num_input_xpath_list\n        len_num = len(all_value)\n        before_all_value = self.item.batch_acquisition_inputs(all_value)\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        self.item.get_find_message()\n        self.item.wait_for_loading_to_disappear()\n        self.item.right_refresh('在途库存')\n        self.item.wait_for_loading_to_disappear()\n        num = self.item.go_settings_page()\n        sleep(1)\n        self.item.select_input('在途库存单据号', input_value)\n        sleep(1)\n        self.item.click_button(\n            f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        sleep(1)\n        self.item.click_edi_button()\n        after_all_value = self.item.batch_acquisition_inputs(all_value)\n        username = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新者 \"]]/following-sibling::div//input').get_attribute(\n            \"value\")\n        updatatime = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新时间 \"]]/following-sibling::div//input').get_attribute(\"value\")\n        today_str = date.today().strftime('%Y/%m/%d')\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"取消\"]')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = self.item.finds_elements(By.XPATH,\n                                       f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        if len(ele) == 1:\n            self.item.click_button(\n                f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n            self.item.click_del_button()  # 点击删除\n            self.item.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            self.item.get_find_message()\n            self.item.wait_for_loading_to_disappear()\n            self.item.right_refresh('在途库存')\n>       assert before_all_value == after_all_value and username == DateDriver().username and today_str in updatatime and int(\n            num) == (int(len_num) + 2)\nE       AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...1测试全部数据', ...]\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (21 lines hidden), use '-vv' to show and 'hongaoqing' == 'hongaoqing'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m hongaoqing\u001B[90m\u001B[39;49;00m and '2026/02/06' in '2026/02/06 11:07:52' and 28 == (24 + 2))\nE        +  where 28 = int('28')\nE        +  and   24 = int(24)\n\nTests\\test_material\\test_inTransitInventory.py:420: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_item","time":{"start":1770347009056,"stop":1770347027787,"duration":18731},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1770347253685,"stop":1770347253685,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...1测试全部数据', ...]\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (21 lines hidden), use '-vv' to show and 'hongaoqing' == 'hongaoqing'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m hongaoqing\u001B[90m\u001B[39;49;00m and '2026/02/06' in '2026/02/06 11:07:52' and 28 == (24 + 2))\n +  where 28 = int('28')\n +  and   24 = int(24)","statusTrace":"self = <test_material.test_inTransitInventory.TestItemPage object at 0x000001FDBCCE2350>, login_to_item = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"36a04c1803ccd2aebdd8e0923150908c\")>\n\n    @allure.story(\"新增全部数据测试\")\n    # @pytest.mark.run(order=1)\n    def test_inTransitInventory_add_success(self, login_to_item):\n        input_value = '11测试全部数据'\n        # 输入框要修改的值\n        text_str = \"111\"\n        # 日期要修改的值\n        date_str = \"2025/07/17 00:00:00\"\n        self.item.click_add_button()  # 点击添加\n        self.item.batch_modify_inputs(self.all_input_xpath_list, input_value)\n        self.item.batch_modify_inputs(self.all_date_xpath_list, date_str)\n        self.item.batch_modify_inputs(self.all_num_input_xpath_list, text_str)\n    \n        all_value = self.all_input_xpath_list + self.all_date_xpath_list + self.all_num_input_xpath_list\n        len_num = len(all_value)\n        before_all_value = self.item.batch_acquisition_inputs(all_value)\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        self.item.get_find_message()\n        self.item.wait_for_loading_to_disappear()\n        self.item.right_refresh('在途库存')\n        self.item.wait_for_loading_to_disappear()\n        num = self.item.go_settings_page()\n        sleep(1)\n        self.item.select_input('在途库存单据号', input_value)\n        sleep(1)\n        self.item.click_button(\n            f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        sleep(1)\n        self.item.click_edi_button()\n        after_all_value = self.item.batch_acquisition_inputs(all_value)\n        username = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新者 \"]]/following-sibling::div//input').get_attribute(\n            \"value\")\n        updatatime = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新时间 \"]]/following-sibling::div//input').get_attribute(\"value\")\n        today_str = date.today().strftime('%Y/%m/%d')\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"取消\"]')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = self.item.finds_elements(By.XPATH,\n                                       f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        if len(ele) == 1:\n            self.item.click_button(\n                f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n            self.item.click_del_button()  # 点击删除\n            self.item.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            self.item.get_find_message()\n            self.item.wait_for_loading_to_disappear()\n            self.item.right_refresh('在途库存')\n>       assert before_all_value == after_all_value and username == DateDriver().username and today_str in updatatime and int(\n            num) == (int(len_num) + 2)\nE       AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...1测试全部数据', ...]\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (21 lines hidden), use '-vv' to show and 'hongaoqing' == 'hongaoqing'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m hongaoqing\u001B[90m\u001B[39;49;00m and '2026/02/06' in '2026/02/06 11:07:52' and 28 == (24 + 2))\nE        +  where 28 = int('28')\nE        +  and   24 = int(24)\n\nTests\\test_material\\test_inTransitInventory.py:420: AssertionError","steps":[],"attachments":[{"uid":"928db0f3cca9c0bd","name":"test_inTransitInventory_add_success_20260206_110837","source":"928db0f3cca9c0bd.png","type":"image/png","size":166393},{"uid":"208d5094681b7a0","name":"log","source":"208d5094681b7a0.txt","type":"text/plain","size":14107}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"login_to_item::0","time":{"start":1770347678092,"stop":1770347680285,"duration":2193},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"在途库存测试用例"},{"name":"story","value":"新增全部数据测试"},{"name":"parentSuite","value":"Tests.test_material"},{"name":"suite","value":"test_inTransitInventory"},{"name":"subSuite","value":"TestItemPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"25088-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_material.test_inTransitInventory"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"c0461d6610e68543.json","parameterValues":[]}