{"uid":"1d218bb6009ee370","name":"test_setting_statistics_deletesuceess","fullName":"Tests.test_items.test_setting.TestSettingPage#test_setting_statistics_deletesuceess","historyId":"d019f84ea2aa1d9a3cb23693970fb7eb","time":{"start":1761584948515,"stop":1761584997714,"duration":49199},"status":"failed","statusMessage":"AssertionError: assert 1 == 0\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"393dd51d4f1732272b32160bd3564b9c\", element=\"f.5F68E5C7D76ACFF9D9FA78B3F094A74F.d.C918C82459E0A2DC0E52ED0B18C61D23.e.306\")>])","statusTrace":"self = <test_items.test_setting.TestSettingPage object at 0x000001F0003DF640>, login_to_setting = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"393dd51d4f1732272b32160bd3564b9c\")>\n\n    @allure.story(\"循环删除统计数据成功\")\n    # @pytest.mark.run(order=1)\n    def test_setting_statistics_deletesuceess(self, login_to_setting):\n        driver = login_to_setting  # WebDriver 实例\n        setting = SettingPage(driver)  # 用 driver 初始化 SettingPage\n        layout = \"测试布局A\"\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        i = 2\n        while i <= 13:\n            try:\n                element = driver.find_element(By.XPATH, f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                driver.execute_script(\"arguments[0].scrollIntoView();\", element)\n    \n                # 点击三个点\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                # 点击刪除\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div//li[text()=\"删除\"]')\n                # 确认删除\n                setting.click_button(\n                    '//div[@class=\"ivu-modal-confirm-footer\"]/button[@class=\"ivu-btn ivu-btn-primary\"]')\n                sleep(3)\n            except NoSuchElementException:\n                print(f\"统计图{i} 不存在，跳过\")\n            finally:\n                i += 1\n    \n        sleep(3)\n        driver.refresh()\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        ele = driver.find_elements(By.XPATH, '//div[@class=\"statisticalListItemTitle\"]/span[contains(text(),\"统计图\")]')\n>       assert len(ele) == 0\nE       assert 1 == 0\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"393dd51d4f1732272b32160bd3564b9c\", element=\"f.5F68E5C7D76ACFF9D9FA78B3F094A74F.d.C918C82459E0A2DC0E52ED0B18C61D23.e.306\")>])\n\nTests\\test_items\\test_setting.py:1830: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_setting","time":{"start":1761584928776,"stop":1761584948512,"duration":19736},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 1 == 0\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"393dd51d4f1732272b32160bd3564b9c\", element=\"f.5F68E5C7D76ACFF9D9FA78B3F094A74F.d.C918C82459E0A2DC0E52ED0B18C61D23.e.306\")>])","statusTrace":"self = <test_items.test_setting.TestSettingPage object at 0x000001F0003DF640>, login_to_setting = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"393dd51d4f1732272b32160bd3564b9c\")>\n\n    @allure.story(\"循环删除统计数据成功\")\n    # @pytest.mark.run(order=1)\n    def test_setting_statistics_deletesuceess(self, login_to_setting):\n        driver = login_to_setting  # WebDriver 实例\n        setting = SettingPage(driver)  # 用 driver 初始化 SettingPage\n        layout = \"测试布局A\"\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        i = 2\n        while i <= 13:\n            try:\n                element = driver.find_element(By.XPATH, f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                driver.execute_script(\"arguments[0].scrollIntoView();\", element)\n    \n                # 点击三个点\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                # 点击刪除\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div//li[text()=\"删除\"]')\n                # 确认删除\n                setting.click_button(\n                    '//div[@class=\"ivu-modal-confirm-footer\"]/button[@class=\"ivu-btn ivu-btn-primary\"]')\n                sleep(3)\n            except NoSuchElementException:\n                print(f\"统计图{i} 不存在，跳过\")\n            finally:\n                i += 1\n    \n        sleep(3)\n        driver.refresh()\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        ele = driver.find_elements(By.XPATH, '//div[@class=\"statisticalListItemTitle\"]/span[contains(text(),\"统计图\")]')\n>       assert len(ele) == 0\nE       assert 1 == 0\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"393dd51d4f1732272b32160bd3564b9c\", element=\"f.5F68E5C7D76ACFF9D9FA78B3F094A74F.d.C918C82459E0A2DC0E52ED0B18C61D23.e.306\")>])\n\nTests\\test_items\\test_setting.py:1830: AssertionError","steps":[],"attachments":[{"uid":"4e45957ad8b22924","name":"test_setting_statistics_deletesuceess_failure","source":"4e45957ad8b22924.png","type":"image/png","size":88287},{"uid":"d358e0381c6bce80","name":"test_setting_statistics_deletesuceess_source","source":"d358e0381c6bce80.html","type":"text/html","size":1307922},{"uid":"d604c8c752bbe173","name":"log","source":"d604c8c752bbe173.txt","type":"text/plain","size":7290}],"parameters":[],"attachmentsCount":3,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"login_to_setting::0","time":{"start":1761584998519,"stop":1761585001069,"duration":2550},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"标准应用设置测试用例"},{"name":"story","value":"循环删除统计数据成功"},{"name":"parentSuite","value":"Tests.test_items"},{"name":"suite","value":"test_setting"},{"name":"subSuite","value":"TestSettingPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"31840-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_items.test_setting"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ba870898deaf659f","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"10110c56b4363d2162688891f6f12ebb\", element=\"f.791DCA65EACC36C262ED6FC05DFD1AB7.d.163C9FDA865C0B701CCC36EE8C36D4D2.e.370\")>])","time":{"start":1761584856143,"stop":1761584925292,"duration":69149}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"1d218bb6009ee370.json","parameterValues":[]}