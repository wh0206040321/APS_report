{"uid":"97f49db6a7ccebe8","name":"test_affairs_template_updattypesuccess","fullName":"Tests.test_system.test_affairs.TestAffairsPage#test_affairs_template_updattypesuccess","historyId":"df7c4ddeb24317083043fa88c2816ded","time":{"start":1766434115509,"stop":1766434129122,"duration":13613},"status":"failed","statusMessage":"AssertionError: assert (1 == 1 and '接口' == '存储过程'\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"5c20d58fa89cd58ff99b79fdb19d8a19\", element=\"f.4D8189DCA6FC22AE4965FCFBD0299FE0.d.27CDE257DD1BB6ADC404A7F34A1B4237.e.86\")>])\n  \n  \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x00000285B7FDC1F0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"5c20d58fa89cd58ff99b79fdb19d8a19\")>\n\n    @allure.story(\"事务模版-切换事务类型，修改配置参数成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_updattypesuccess(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试事务模版7\"\n        type = \"存储过程\"\n        affairs.hover(name=name, edi=\"编辑\")\n        affairs.click_button('//div[label[text()=\"事务类型\"]]//input')\n        affairs.click_button(f'//span[text()=\"{type}\"]')\n        affairs.click_button('//div[@class=\"el-message-box__btns\"]//span[contains(text(),\"确定\")]')\n        sleep(1)\n        affairs.click_button('//div[label[text()=\"配置参数\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//i')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//ul[@class=\"ivu-select-dropdown-list\"]/li[1]')\n        text_ = affairs.get_find_element_xpath('//div[p[text()=\"存储过程列表:\"]]//input').get_attribute(\"value\")\n        num = len(driver.find_elements(By.XPATH, '//table[@class=\"vxe-table--body\"]//tr'))\n        for i in range(1, 1 + num):\n            affairs.enter_texts(f'//table[@class=\"vxe-table--body\"]//tr[{i}]/td[3]//input', \"1\")\n        affairs.click_button(\n            '(//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"])[2]')\n        sleep(3)\n        type_ = affairs.get_find_element_xpath('//div[label[text()=\"事务类型\"]]//input').get_attribute(\"value\")\n        sleep(2)\n        before_parameter = affairs.get_find_element_xpath('//div[label[text()=\"配置参数\"]]//input').get_attribute(\"value\")\n        affairs.click_button(\n            '//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        affairs.get_find_message()\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n        value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\n>       assert len(ele) == 1 and value == type_ and text_ in before_parameter\nE       assert (1 == 1 and '接口' == '存储过程'\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"5c20d58fa89cd58ff99b79fdb19d8a19\", element=\"f.4D8189DCA6FC22AE4965FCFBD0299FE0.d.27CDE257DD1BB6ADC404A7F34A1B4237.e.86\")>])\nE         \nE         \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_system\\test_affairs.py:496: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_affairs","time":{"start":1766434102945,"stop":1766434115508,"duration":12563},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"attachmentStep":false,"hasContent":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (1 == 1 and '接口' == '存储过程'\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"5c20d58fa89cd58ff99b79fdb19d8a19\", element=\"f.4D8189DCA6FC22AE4965FCFBD0299FE0.d.27CDE257DD1BB6ADC404A7F34A1B4237.e.86\")>])\n  \n  \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)","statusTrace":"self = <test_system.test_affairs.TestAffairsPage object at 0x00000285B7FDC1F0>, login_to_affairs = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"5c20d58fa89cd58ff99b79fdb19d8a19\")>\n\n    @allure.story(\"事务模版-切换事务类型，修改配置参数成功\")\n    # @pytest.mark.run(order=1)\n    def test_affairs_template_updattypesuccess(self, login_to_affairs):\n        driver = login_to_affairs  # WebDriver 实例\n        affairs = AffairsPage(driver)  # 用 driver 初始化 AffairsPage\n        name = \"测试事务模版7\"\n        type = \"存储过程\"\n        affairs.hover(name=name, edi=\"编辑\")\n        affairs.click_button('//div[label[text()=\"事务类型\"]]//input')\n        affairs.click_button(f'//span[text()=\"{type}\"]')\n        affairs.click_button('//div[@class=\"el-message-box__btns\"]//span[contains(text(),\"确定\")]')\n        sleep(1)\n        affairs.click_button('//div[label[text()=\"配置参数\"]]//i[@class=\"ivu-icon ivu-icon-md-albums paramIcon\"]')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//i')\n        affairs.click_button('//div[p[text()=\"存储过程列表:\"]]//ul[@class=\"ivu-select-dropdown-list\"]/li[1]')\n        text_ = affairs.get_find_element_xpath('//div[p[text()=\"存储过程列表:\"]]//input').get_attribute(\"value\")\n        num = len(driver.find_elements(By.XPATH, '//table[@class=\"vxe-table--body\"]//tr'))\n        for i in range(1, 1 + num):\n            affairs.enter_texts(f'//table[@class=\"vxe-table--body\"]//tr[{i}]/td[3]//input', \"1\")\n        affairs.click_button(\n            '(//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"])[2]')\n        sleep(3)\n        type_ = affairs.get_find_element_xpath('//div[label[text()=\"事务类型\"]]//input').get_attribute(\"value\")\n        sleep(2)\n        before_parameter = affairs.get_find_element_xpath('//div[label[text()=\"配置参数\"]]//input').get_attribute(\"value\")\n        affairs.click_button(\n            '//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        affairs.get_find_message()\n        ele = driver.find_elements(By.XPATH, f'//div[@class=\"template-card__title\"]/div[text()=\"{name}\"]')\n        value = ele[0].find_element(By.XPATH, './ancestor::div[3]/div[3]/div').text\n>       assert len(ele) == 1 and value == type_ and text_ in before_parameter\nE       assert (1 == 1 and '接口' == '存储过程'\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"5c20d58fa89cd58ff99b79fdb19d8a19\", element=\"f.4D8189DCA6FC22AE4965FCFBD0299FE0.d.27CDE257DD1BB6ADC404A7F34A1B4237.e.86\")>])\nE         \nE         \u001B[0m\u001B[91m- 存储过程\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ 接口\u001B[39;49;00m\u001B[90m\u001B[39;49;00m)\n\nTests\\test_system\\test_affairs.py:496: AssertionError","steps":[],"attachments":[{"uid":"1f856f3eb86718f7","name":"test_affairs_template_updattypesuccess","source":"1f856f3eb86718f7.png","type":"image/png","size":83622},{"uid":"629b44b5318d048c","name":"log","source":"629b44b5318d048c.txt","type":"text/plain","size":3076}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":2,"stepsCount":0,"attachmentStep":false,"hasContent":true},"afterStages":[{"name":"login_to_affairs::0","time":{"start":1766434129255,"stop":1766434131423,"duration":2168},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"attachmentStep":false,"hasContent":false}],"labels":[{"name":"feature","value":"事务管理页用例"},{"name":"story","value":"事务模版-切换事务类型，修改配置参数成功"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_affairs"},{"name":"subSuite","value":"TestAffairsPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"31636-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_affairs"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"97f49db6a7ccebe8.json","parameterValues":[]}