{"uid":"7807161333eb6aa9","name":"test_materialBOM_add_success","fullName":"Tests.test_material.test_materialBOM.TestItemPage#test_materialBOM_add_success","historyId":"dee38804567cadff2b6b49cceac6c0ec","time":{"start":1770343216820,"stop":1770343302121,"duration":85301},"status":"failed","statusMessage":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","statusTrace":"self = <test_material.test_materialBOM.TestItemPage object at 0x000001882F301810>, login_to_item = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"980bf51de7645f9da8a2661f75609816\")>\n\n    @allure.story(\"新增全部数据测试\")\n    # @pytest.mark.run(order=1)\n    def test_materialBOM_add_success(self, login_to_item):\n        text_str = \"111\"\n        date_str = \"2025/07/23 00:00:00\"\n        input_value = '11测试全部数据'\n        self.item.click_add_button()\n        self.item.batch_modify_inputs(self.all_input_xpath_list, input_value)\n        self.item.batch_modify_inputs(self.all_date_xpath_list, date_str)\n        self.item.batch_modify_inputs(self.all_num_input_xpath_list, text_str)\n        self.item.batch_modify_select_input(self.select_list)\n        self.item.batch_click_input(self.click_list)\n    \n        select_input_list = [item[\"select\"] for item in self.select_list]\n        all_value = self.all_input_xpath_list + self.all_date_xpath_list + self.all_num_input_xpath_list + select_input_list\n        all_click = len(self.click_list)\n        len_num = len(all_value)\n        before_all_value = self.item.batch_acquisition_inputs(all_value)\n        before_click_class = self.item.get_checkbox_value(self.click_list)\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        self.item.get_find_message()\n        self.item.wait_for_loading_to_disappear()\n        self.item.right_refresh('物料BOM')\n        self.item.wait_for_loading_to_disappear()\n        num = self.item.go_settings_page()\n        sleep(1)\n        self.item.select_input('产品编码', input_value)\n        sleep(1)\n        self.item.click_button(\n            f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        sleep(1)\n        self.item.click_edi_button()\n        after_all_value = self.item.batch_acquisition_inputs(all_value)\n        after_click_class = self.item.get_checkbox_value(self.click_list)\n        username = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新者 \"]]/following-sibling::div//input').get_attribute(\n            \"value\")\n        updatatime = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新时间 \"]]/following-sibling::div//input').get_attribute(\"value\")\n        today_str = date.today().strftime('%Y/%m/%d')\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"取消\"]')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = self.item.finds_elements(By.XPATH,\n                                       f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        if len(ele) == 1:\n            self.item.click_button(\n                f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n            self.item.click_del_button()  # 点击删除\n            self.item.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            self.item.get_find_message()\n            self.item.wait_for_loading_to_disappear()\n            self.item.right_refresh('物料BOM')\n>       assert before_all_value == after_all_value and username == DateDriver().username and today_str in updatatime and int(\n            num) == (int(len_num) + int(all_click) + 18) and after_click_class == before_click_class\nE       AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\nE         \nE         At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (54 lines hidden), use '-vv' to show)\n\nTests\\test_material\\test_materialBOM.py:416: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":5,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_item","time":{"start":1770342929576,"stop":1770342948174,"duration":18598},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1770343216818,"stop":1770343216820,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","statusTrace":"self = <test_material.test_materialBOM.TestItemPage object at 0x000001882F301810>, login_to_item = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"980bf51de7645f9da8a2661f75609816\")>\n\n    @allure.story(\"新增全部数据测试\")\n    # @pytest.mark.run(order=1)\n    def test_materialBOM_add_success(self, login_to_item):\n        text_str = \"111\"\n        date_str = \"2025/07/23 00:00:00\"\n        input_value = '11测试全部数据'\n        self.item.click_add_button()\n        self.item.batch_modify_inputs(self.all_input_xpath_list, input_value)\n        self.item.batch_modify_inputs(self.all_date_xpath_list, date_str)\n        self.item.batch_modify_inputs(self.all_num_input_xpath_list, text_str)\n        self.item.batch_modify_select_input(self.select_list)\n        self.item.batch_click_input(self.click_list)\n    \n        select_input_list = [item[\"select\"] for item in self.select_list]\n        all_value = self.all_input_xpath_list + self.all_date_xpath_list + self.all_num_input_xpath_list + select_input_list\n        all_click = len(self.click_list)\n        len_num = len(all_value)\n        before_all_value = self.item.batch_acquisition_inputs(all_value)\n        before_click_class = self.item.get_checkbox_value(self.click_list)\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        self.item.get_find_message()\n        self.item.wait_for_loading_to_disappear()\n        self.item.right_refresh('物料BOM')\n        self.item.wait_for_loading_to_disappear()\n        num = self.item.go_settings_page()\n        sleep(1)\n        self.item.select_input('产品编码', input_value)\n        sleep(1)\n        self.item.click_button(\n            f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        sleep(1)\n        self.item.click_edi_button()\n        after_all_value = self.item.batch_acquisition_inputs(all_value)\n        after_click_class = self.item.get_checkbox_value(self.click_list)\n        username = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新者 \"]]/following-sibling::div//input').get_attribute(\n            \"value\")\n        updatatime = self.item.get_find_element_xpath(\n            '//div[span[text()=\" 更新时间 \"]]/following-sibling::div//input').get_attribute(\"value\")\n        today_str = date.today().strftime('%Y/%m/%d')\n        self.item.click_button('//div[@class=\"vxe-modal--footer\"]//span[text()=\"取消\"]')\n        logging.info(f\"before_all_value: {before_all_value}, after_all_value: {after_all_value}\")\n        ele = self.item.finds_elements(By.XPATH,\n                                       f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n        if len(ele) == 1:\n            self.item.click_button(\n                f'(//div[@class=\"vxe-table--main-wrapper\"])[2]//table[@class=\"vxe-table--body\"]//tr/td[2][.//span[text()=\"{input_value}\"]]')\n            self.item.click_del_button()  # 点击删除\n            self.item.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n            self.item.get_find_message()\n            self.item.wait_for_loading_to_disappear()\n            self.item.right_refresh('物料BOM')\n>       assert before_all_value == after_all_value and username == DateDriver().username and today_str in updatatime and int(\n            num) == (int(len_num) + int(all_click) + 18) and after_click_class == before_click_class\nE       AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\nE         \nE         At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \nE         Full diff:\nE         \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\nE         \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\nE         \nE         ...Full output truncated (54 lines hidden), use '-vv' to show)\n\nTests\\test_material\\test_materialBOM.py:416: AssertionError","steps":[],"attachments":[{"uid":"dc35375694f3e45c","name":"test_materialBOM_add_success_20260206_100142","source":"dc35375694f3e45c.png","type":"image/png","size":107231},{"uid":"73038c5a6ecc64e3","name":"log","source":"73038c5a6ecc64e3.txt","type":"text/plain","size":53915}],"parameters":[],"attachmentsCount":2,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"login_to_item::0","time":{"start":1770343660904,"stop":1770343663086,"duration":2182},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"新增全部数据测试"},{"name":"feature","value":"物料BOM测试用例"},{"name":"parentSuite","value":"Tests.test_material"},{"name":"suite","value":"test_materialBOM"},{"name":"subSuite","value":"TestItemPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"31796-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_material.test_materialBOM"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"49fa49a56518bfb5","status":"failed","statusDetails":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","time":{"start":1770343128609,"stop":1770343216723,"duration":88114}},{"uid":"18a86e15347f6313","status":"failed","statusDetails":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","time":{"start":1770341445647,"stop":1770341531496,"duration":85849}},{"uid":"5651f34d7ad97121","status":"failed","statusDetails":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","time":{"start":1770341360985,"stop":1770341445530,"duration":84545}},{"uid":"1be93b9edefed080","status":"failed","statusDetails":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","time":{"start":1770315371274,"stop":1770315456697,"duration":85423}},{"uid":"671cb1c0b1543c0d","status":"failed","statusDetails":"AssertionError: assert (['11测试全部数据', ...1测试全部数据', ...] == ['11测试全部数据', ...部数据', '', ...]\n  \n  At index 5 diff: \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m11测试全部数据\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m != \u001B[0m\u001B[33m'\u001B[39;49;00m\u001B[33m'\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \n  Full diff:\n  \u001B[0m\u001B[90m \u001B[39;49;00m [\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m\n  \u001B[90m \u001B[39;49;00m     '11测试全部数据',\u001B[90m\u001B[39;49;00m...\n  \n  ...Full output truncated (54 lines hidden), use '-vv' to show)","time":{"start":1770315284957,"stop":1770315371152,"duration":86195}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"7807161333eb6aa9.json","parameterValues":[]}