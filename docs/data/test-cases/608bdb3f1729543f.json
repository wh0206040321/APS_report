{"uid":"608bdb3f1729543f","name":"test_production_editresource","fullName":"Tests.test_items.test_production.TestProductionPage#test_production_editresource","historyId":"2ab523f3918f6fc777abe52cf6194598","time":{"start":1755744318663,"stop":1755744322333,"duration":3670},"status":"failed","statusMessage":"AssertionError: assert 'rgba(0, 0, 0, 0)' == 'rgba(255, 165, 0, 1)'\n  \n  \u001B[0m\u001B[91m- rgba(255, 165, 0, 1)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ rgba(0, 0, 0, 0)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","statusTrace":"self = <test_items.test_production.TestProductionPage object at 0x00000202966E4910>\nlogin_to_production = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a18b9bbdecd3578d60ea13ab6cd18581\")>\n\n    @allure.story(\"添加工作代码 修改资源会弹出提示，并且表格颜色发生改变\")\n    # @pytest.mark.run(order=1)\n    def test_production_editresource(self, login_to_production):\n        driver = login_to_production  # WebDriver 实例\n        production = ProductionPage(driver)  # 用 driver 初始化 ProductionPage\n        production.click_add_button()\n    \n        # 点击工作代码对话框\n        production.click_button('//label[text()=\"工作代码\"]/following-sibling::div//i')\n        # 在订单代码输入框中输入“1测试C订单”\n        production.enter_texts(\n            '(//div[./p[text()=\"订单代码\"]])[2]/parent::div//input',\n            \"1测试C订单\",\n        )\n        # 选择搜索到的第一个订单“1测试C订单”\n        production.click_button(\n            '//table[.//tr[./td[3]//span[text()=\"1测试C订单:1\"]]]//td[3]//span[text()=\"1测试C订单:1\"]'\n        )\n        # 点击确认按钮\n        production.click_button('(//button[@class=\"ivu-btn ivu-btn-primary\"])[5]')\n    \n        sleep(1)\n        # 定位输入框元素\n        production.click_button(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        )\n        input_sel = production.get_find_element_xpath(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        ).get_attribute(\"value\")\n        eles = driver.find_elements(\n            By.XPATH,\n            '//ul[@class=\"ivu-select-dropdown-list\"and .//span[contains(text(),\"/\")]]/li',\n        )\n        eles[0].click()\n        afert_input = production.get_find_element_xpath(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        ).get_attribute(\"value\")\n        i = 0\n        # 循环点击，直到输入框内容发生变化\n        while afert_input == input_sel:\n            i += 1\n            eles[i].click()\n            afert_input = production.get_find_element_xpath(\n                '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n            ).get_attribute(\"value\")\n    \n        production.click_button('(//button[@class=\"ivu-btn ivu-btn-primary\"])[4]')\n        # 弹出提示框 点击是\n        production.click_button(\n            '//div[.//p[text()=\"当前选择的报工资源与资源代码不一致，是否继续？\"] and @class=\"el-message-box__content\"]/following-sibling::div/button[2]'\n        )\n    \n        color = production.get_find_element_xpath(\n            '//tr[./td[9]//span[text()=\"1测试C订单\"]]/td[4]'\n        ).value_of_css_property(\"background-color\")\n        # 断言提示信息为“请先填写表单”\n>       assert color == \"rgba(255, 165, 0, 1)\"\nE       AssertionError: assert 'rgba(0, 0, 0, 0)' == 'rgba(255, 165, 0, 1)'\nE         \nE         \u001B[0m\u001B[91m- rgba(255, 165, 0, 1)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ rgba(0, 0, 0, 0)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n\nTests\\test_items\\test_production.py:165: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":true,"beforeStages":[{"name":"login_to_production","time":{"start":1755744309106,"stop":1755744318663,"duration":9557},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 'rgba(0, 0, 0, 0)' == 'rgba(255, 165, 0, 1)'\n  \n  \u001B[0m\u001B[91m- rgba(255, 165, 0, 1)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ rgba(0, 0, 0, 0)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","statusTrace":"self = <test_items.test_production.TestProductionPage object at 0x00000202966E4910>\nlogin_to_production = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"a18b9bbdecd3578d60ea13ab6cd18581\")>\n\n    @allure.story(\"添加工作代码 修改资源会弹出提示，并且表格颜色发生改变\")\n    # @pytest.mark.run(order=1)\n    def test_production_editresource(self, login_to_production):\n        driver = login_to_production  # WebDriver 实例\n        production = ProductionPage(driver)  # 用 driver 初始化 ProductionPage\n        production.click_add_button()\n    \n        # 点击工作代码对话框\n        production.click_button('//label[text()=\"工作代码\"]/following-sibling::div//i')\n        # 在订单代码输入框中输入“1测试C订单”\n        production.enter_texts(\n            '(//div[./p[text()=\"订单代码\"]])[2]/parent::div//input',\n            \"1测试C订单\",\n        )\n        # 选择搜索到的第一个订单“1测试C订单”\n        production.click_button(\n            '//table[.//tr[./td[3]//span[text()=\"1测试C订单:1\"]]]//td[3]//span[text()=\"1测试C订单:1\"]'\n        )\n        # 点击确认按钮\n        production.click_button('(//button[@class=\"ivu-btn ivu-btn-primary\"])[5]')\n    \n        sleep(1)\n        # 定位输入框元素\n        production.click_button(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        )\n        input_sel = production.get_find_element_xpath(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        ).get_attribute(\"value\")\n        eles = driver.find_elements(\n            By.XPATH,\n            '//ul[@class=\"ivu-select-dropdown-list\"and .//span[contains(text(),\"/\")]]/li',\n        )\n        eles[0].click()\n        afert_input = production.get_find_element_xpath(\n            '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n        ).get_attribute(\"value\")\n        i = 0\n        # 循环点击，直到输入框内容发生变化\n        while afert_input == input_sel:\n            i += 1\n            eles[i].click()\n            afert_input = production.get_find_element_xpath(\n                '//label[text()=\"报工资源\"]/following-sibling::div//input[@type=\"text\"]'\n            ).get_attribute(\"value\")\n    \n        production.click_button('(//button[@class=\"ivu-btn ivu-btn-primary\"])[4]')\n        # 弹出提示框 点击是\n        production.click_button(\n            '//div[.//p[text()=\"当前选择的报工资源与资源代码不一致，是否继续？\"] and @class=\"el-message-box__content\"]/following-sibling::div/button[2]'\n        )\n    \n        color = production.get_find_element_xpath(\n            '//tr[./td[9]//span[text()=\"1测试C订单\"]]/td[4]'\n        ).value_of_css_property(\"background-color\")\n        # 断言提示信息为“请先填写表单”\n>       assert color == \"rgba(255, 165, 0, 1)\"\nE       AssertionError: assert 'rgba(0, 0, 0, 0)' == 'rgba(255, 165, 0, 1)'\nE         \nE         \u001B[0m\u001B[91m- rgba(255, 165, 0, 1)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE         \u001B[92m+ rgba(0, 0, 0, 0)\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n\nTests\\test_items\\test_production.py:165: AssertionError","steps":[],"attachments":[{"uid":"682f20baeebdaaa5","name":"test_production_editresource_failure","source":"682f20baeebdaaa5.png","type":"image/png","size":83273},{"uid":"738f5aac6e3fe218","name":"test_production_editresource_source","source":"738f5aac6e3fe218.html","type":"text/html","size":1309715},{"uid":"c1c9db522e1bf156","name":"log","source":"c1c9db522e1bf156.txt","type":"text/plain","size":2193}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":3},"afterStages":[{"name":"login_to_production::0","time":{"start":1755744322778,"stop":1755744324944,"duration":2166},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"feature","value":"生产报工测试用例"},{"name":"story","value":"添加工作代码 修改资源会弹出提示，并且表格颜色发生改变"},{"name":"parentSuite","value":"Tests.test_items"},{"name":"suite","value":"test_production"},{"name":"subSuite","value":"TestProductionPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"2060-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_items.test_production"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5b378844f991d62b","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: 点击失败，找不到元素：xpath = //table[.//tr[./td[3]//span[text()=\"1测试C订单:1\"]]]//td[3]//span[text()=\"1测试C订单:1\"]","time":{"start":1755700989971,"stop":1755701002126,"duration":12155}},{"uid":"a7b420e5f11cb462","status":"broken","statusDetails":"selenium.common.exceptions.TimeoutException: Message: 点击失败，找不到元素：xpath = //table[.//tr[./td[3]//span[text()=\"1测试C订单:1\"]]]//td[3]//span[text()=\"1测试C订单:1\"]","time":{"start":1755700965585,"stop":1755700977587,"duration":12002}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"608bdb3f1729543f.json","parameterValues":[]}