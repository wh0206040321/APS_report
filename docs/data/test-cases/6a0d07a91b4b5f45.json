{"uid":"6a0d07a91b4b5f45","name":"test_process_delsuccess1","fullName":"Tests.test_items.test_process.TestProcessPage#test_process_delsuccess1","historyId":"094b79d95a9bf77994dbe326411ddbe7","time":{"start":1762436601112,"stop":1762436629700,"duration":28588},"status":"broken","statusMessage":"NameError: name 'WebDriverWait' is not defined","statusTrace":"self = <test_items.test_process.TestProcessPage object at 0x0000027FDAF844F0>, login_to_process = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"f52fccaf9151a8da5da95219730b0e69\")>\n\n    @allure.story(\"删除测试数据成功，删除布局\")\n    # @pytest.mark.run(order=1)\n    def test_process_delsuccess1(self, login_to_process):\n        driver = login_to_process  # WebDriver 实例\n        process = ProcessPage(driver)  # 用 driver 初始化 ProcessPage\n        layout = \"测试布局A\"\n    \n        value = ['111', '11测试全部数据', '1测试A', '111111111111111133331122221111222221111111113333111111144444111111111111111111111111111111111111111111111111']\n        process.del_all(value)\n        itemdata = [\n            driver.find_elements(By.XPATH, f'//tr[./td[2][.//span[text()=\"{v}\"]]]/td[2]')\n            for v in value[:4]\n        ]\n>       process.del_layout(layout)\n\nTests\\test_items\\test_process.py:1036: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nPages\\itemsPage\\process_page.py:183: in del_layout\n    self.wait_for_loading_to_disappear()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Pages.itemsPage.process_page.ProcessPage object at 0x0000027FDB0F6EC0>, timeout = 10\n\n    def wait_for_loading_to_disappear(self, timeout=10):\n        \"\"\"\n        显式等待加载遮罩元素消失。\n    \n        参数:\n        - timeout (int): 超时时间，默认为10秒。\n    \n        该方法通过WebDriverWait配合EC.invisibility_of_element_located方法，\n        检查页面上是否存在class中包含'el-loading-mask'且style中不包含'display: none'的div元素，\n        以此判断加载遮罩是否消失。\n        \"\"\"\n>       WebDriverWait(self.driver, timeout).until(\n            EC.invisibility_of_element_located(\n                (By.XPATH,\n                 \"(//div[contains(@class, 'vxe-loading') and contains(@class, 'vxe-table--loading') and contains(@class, 'is--visible')])[2]\")\n            )\n        )\nE       NameError: name 'WebDriverWait' is not defined\n\nPages\\itemsPage\\process_page.py:79: NameError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_process","time":{"start":1762436590479,"stop":1762436601110,"duration":10631},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"NameError: name 'WebDriverWait' is not defined","statusTrace":"self = <test_items.test_process.TestProcessPage object at 0x0000027FDAF844F0>, login_to_process = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"f52fccaf9151a8da5da95219730b0e69\")>\n\n    @allure.story(\"删除测试数据成功，删除布局\")\n    # @pytest.mark.run(order=1)\n    def test_process_delsuccess1(self, login_to_process):\n        driver = login_to_process  # WebDriver 实例\n        process = ProcessPage(driver)  # 用 driver 初始化 ProcessPage\n        layout = \"测试布局A\"\n    \n        value = ['111', '11测试全部数据', '1测试A', '111111111111111133331122221111222221111111113333111111144444111111111111111111111111111111111111111111111111']\n        process.del_all(value)\n        itemdata = [\n            driver.find_elements(By.XPATH, f'//tr[./td[2][.//span[text()=\"{v}\"]]]/td[2]')\n            for v in value[:4]\n        ]\n>       process.del_layout(layout)\n\nTests\\test_items\\test_process.py:1036: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nPages\\itemsPage\\process_page.py:183: in del_layout\n    self.wait_for_loading_to_disappear()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <Pages.itemsPage.process_page.ProcessPage object at 0x0000027FDB0F6EC0>, timeout = 10\n\n    def wait_for_loading_to_disappear(self, timeout=10):\n        \"\"\"\n        显式等待加载遮罩元素消失。\n    \n        参数:\n        - timeout (int): 超时时间，默认为10秒。\n    \n        该方法通过WebDriverWait配合EC.invisibility_of_element_located方法，\n        检查页面上是否存在class中包含'el-loading-mask'且style中不包含'display: none'的div元素，\n        以此判断加载遮罩是否消失。\n        \"\"\"\n>       WebDriverWait(self.driver, timeout).until(\n            EC.invisibility_of_element_located(\n                (By.XPATH,\n                 \"(//div[contains(@class, 'vxe-loading') and contains(@class, 'vxe-table--loading') and contains(@class, 'is--visible')])[2]\")\n            )\n        )\nE       NameError: name 'WebDriverWait' is not defined\n\nPages\\itemsPage\\process_page.py:79: NameError","steps":[],"attachments":[{"uid":"1e67b90ad67ab7b5","name":"test_process_delsuccess1_failure","source":"1e67b90ad67ab7b5.png","type":"image/png","size":75582},{"uid":"3776dcb86e8321d8","name":"test_process_delsuccess1_source","source":"3776dcb86e8321d8.html","type":"text/html","size":1240629},{"uid":"2a2afc98d30ef6fa","name":"log","source":"2a2afc98d30ef6fa.txt","type":"text/plain","size":4564}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":3},"afterStages":[{"name":"login_to_process::0","time":{"start":1762436629932,"stop":1762436632093,"duration":2161},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"feature","value":"工序表测试用例"},{"name":"story","value":"删除测试数据成功，删除布局"},{"name":"parentSuite","value":"Tests.test_items"},{"name":"suite","value":"test_process"},{"name":"subSuite","value":"TestProcessPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"24676-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_items.test_process"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"6a0d07a91b4b5f45.json","parameterValues":[]}