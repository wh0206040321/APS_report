{"uid":"e746ea84e9ee72e9","name":"test_imp_update","fullName":"Tests.test_system.test_imp.TestImpPage#test_imp_update","historyId":"6c925cfdaf73b2b37df6c7fddf34649b","time":{"start":1762279303106,"stop":1762279313868,"duration":10762},"status":"failed","statusMessage":"AssertionError: assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m 保存成功\u001B[90m\u001B[39;49;00m and 1 == 0)\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"521dca5be9fff288233b206e3d6a6250\", element=\"f.117873BB1590C8A584490FBCCBB3AC52.d.A092F5F6CAF04DBE2864824DF7D8D74A.e.351\")>])","statusTrace":"self = <test_system.test_imp.TestImpPage object at 0x0000016856AC8460>, login_to_imp = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"521dca5be9fff288233b206e3d6a6250\")>\n\n    @allure.story(\"编辑方案成功，取消勾选客户，勾选工序成功。右键映射点击确定不报错，点击方案不报错\")\n    # @pytest.mark.run(order=1)\n    def test_imp_update(self, login_to_imp):\n        driver = login_to_imp  # WebDriver 实例\n        imp = ImpPage(driver)  # 用 driver 初始化 ImpPage\n        name = \"1导入设置方案\"\n        kh = \"客户\"\n        gx = \"工序\"\n        imp.click_button(\n            '//div[@class=\"flex-alignItems-center background-ffffff h-36px w-b-100 m-l-12 toolbar-container\"]//input[@class=\"ivu-select-input\"]')\n        WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.XPATH, f'//ul/li[text()=\"{name}\"]'))).click()\n        imp.click_button('//ul[@class=\"ivu-tree-children\"]//span[text()=\"导入\"]')\n        imp.click_impall_button(\"编辑\")\n        sleep(1)\n        imp.click_button(f'//ul[@class=\"ivu-tree-children\"]//span[text()=\"{kh}\"]/ancestor::ul[1]//label/span')\n        imp.click_button(f'//ul[@class=\"ivu-tree-children\"]//span[text()=\"{gx}\"]/ancestor::ul[1]//label/span')\n        ele = imp.get_find_element_xpath(f'//ul[@class=\"ivu-tree-children\"]//span[text()=\"{gx}\"]')\n        ActionChains(driver).context_click(ele).perform()\n        imp.click_button('//li[text()=\"映射编辑\"]')\n        sleep(1)\n        imp.click_button(\n            '//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        imp.click_impall_button(\"保存\")\n        message = imp.get_find_message()\n        imp.click_button('//span[text()=\" 执行方案\"]')\n        imp.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n        eles1 = imp.finds_elements(By.XPATH,\n                                   f'//ul[@class=\"ivu-tree-children\"]//span[@class=\"valueSpan\" and text()=\"{kh}\"]')\n        eles2 = imp.finds_elements(By.XPATH,\n                                   f'//ul[@class=\"ivu-tree-children\"]//span[@class=\"valueSpan\" and text()=\"{gx}\"]')\n        eles = imp.finds_elements(By.XPATH, '//i[@class=\"ivu-icon ivu-icon-ios-close-circle\"]')\n        assert len(eles) == 0\n>       assert message == \"保存成功\" and len(eles1) == 0 and len(eles2) == 1\nE       assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m 保存成功\u001B[90m\u001B[39;49;00m and 1 == 0)\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"521dca5be9fff288233b206e3d6a6250\", element=\"f.117873BB1590C8A584490FBCCBB3AC52.d.A092F5F6CAF04DBE2864824DF7D8D74A.e.351\")>])\n\nTests\\test_system\\test_imp.py:203: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_imp","time":{"start":1762279292111,"stop":1762279303106,"duration":10995},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m 保存成功\u001B[90m\u001B[39;49;00m and 1 == 0)\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"521dca5be9fff288233b206e3d6a6250\", element=\"f.117873BB1590C8A584490FBCCBB3AC52.d.A092F5F6CAF04DBE2864824DF7D8D74A.e.351\")>])","statusTrace":"self = <test_system.test_imp.TestImpPage object at 0x0000016856AC8460>, login_to_imp = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"521dca5be9fff288233b206e3d6a6250\")>\n\n    @allure.story(\"编辑方案成功，取消勾选客户，勾选工序成功。右键映射点击确定不报错，点击方案不报错\")\n    # @pytest.mark.run(order=1)\n    def test_imp_update(self, login_to_imp):\n        driver = login_to_imp  # WebDriver 实例\n        imp = ImpPage(driver)  # 用 driver 初始化 ImpPage\n        name = \"1导入设置方案\"\n        kh = \"客户\"\n        gx = \"工序\"\n        imp.click_button(\n            '//div[@class=\"flex-alignItems-center background-ffffff h-36px w-b-100 m-l-12 toolbar-container\"]//input[@class=\"ivu-select-input\"]')\n        WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.XPATH, f'//ul/li[text()=\"{name}\"]'))).click()\n        imp.click_button('//ul[@class=\"ivu-tree-children\"]//span[text()=\"导入\"]')\n        imp.click_impall_button(\"编辑\")\n        sleep(1)\n        imp.click_button(f'//ul[@class=\"ivu-tree-children\"]//span[text()=\"{kh}\"]/ancestor::ul[1]//label/span')\n        imp.click_button(f'//ul[@class=\"ivu-tree-children\"]//span[text()=\"{gx}\"]/ancestor::ul[1]//label/span')\n        ele = imp.get_find_element_xpath(f'//ul[@class=\"ivu-tree-children\"]//span[text()=\"{gx}\"]')\n        ActionChains(driver).context_click(ele).perform()\n        imp.click_button('//li[text()=\"映射编辑\"]')\n        sleep(1)\n        imp.click_button(\n            '//div[@class=\"vxe-modal--footer\"]//span[text()=\"确定\"]')\n        imp.click_impall_button(\"保存\")\n        message = imp.get_find_message()\n        imp.click_button('//span[text()=\" 执行方案\"]')\n        imp.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n        eles1 = imp.finds_elements(By.XPATH,\n                                   f'//ul[@class=\"ivu-tree-children\"]//span[@class=\"valueSpan\" and text()=\"{kh}\"]')\n        eles2 = imp.finds_elements(By.XPATH,\n                                   f'//ul[@class=\"ivu-tree-children\"]//span[@class=\"valueSpan\" and text()=\"{gx}\"]')\n        eles = imp.finds_elements(By.XPATH, '//i[@class=\"ivu-icon ivu-icon-ios-close-circle\"]')\n        assert len(eles) == 0\n>       assert message == \"保存成功\" and len(eles1) == 0 and len(eles2) == 1\nE       assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m 保存成功\u001B[90m\u001B[39;49;00m and 1 == 0)\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"521dca5be9fff288233b206e3d6a6250\", element=\"f.117873BB1590C8A584490FBCCBB3AC52.d.A092F5F6CAF04DBE2864824DF7D8D74A.e.351\")>])\n\nTests\\test_system\\test_imp.py:203: AssertionError","steps":[],"attachments":[{"uid":"afe38d140293356c","name":"test_imp_update_failure","source":"afe38d140293356c.png","type":"image/png","size":59529},{"uid":"8987bfae64de0f2a","name":"test_imp_update_source","source":"8987bfae64de0f2a.html","type":"text/html","size":1134538},{"uid":"33b5d03960131bb","name":"log","source":"33b5d03960131bb.txt","type":"text/plain","size":7765}],"parameters":[],"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true,"stepsCount":0,"attachmentStep":false},"afterStages":[{"name":"login_to_imp::0","time":{"start":1762279314015,"stop":1762279316166,"duration":2151},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false,"stepsCount":0,"attachmentStep":false}],"labels":[{"name":"feature","value":"导入设置页用例"},{"name":"story","value":"编辑方案成功，取消勾选客户，勾选工序成功。右键映射点击确定不报错，点击方案不报错"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_imp"},{"name":"subSuite","value":"TestImpPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"33540-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_imp"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e78dc1a3728bebdf","status":"failed","statusDetails":"AssertionError: assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m 保存成功\u001B[90m\u001B[39;49;00m and 1 == 0)\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"db6273cc0fd2e7f4e215f9e963cf8fee\", element=\"f.5856167966ED0BAC75C1318651B3B148.d.EF6191D05CFF4C6C6527A313291EAD76.e.251\")>])","time":{"start":1762279279213,"stop":1762279289797,"duration":10584}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"e746ea84e9ee72e9.json","parameterValues":[]}