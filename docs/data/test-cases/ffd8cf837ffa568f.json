{"uid":"ffd8cf837ffa568f","name":"test_materialsubstitution_addsingle","fullName":"Tests.test_material.test_materialSubstitution.TestSMaterialSubstitutionPage#test_materialsubstitution_addsingle","historyId":"1747f5d12cad0ce18d4809d594e07369","time":{"start":1764351229028,"stop":1764351240933,"duration":11905},"status":"failed","statusMessage":"AssertionError: 新增失败: 新增前 0, 新增后 261\nassert (261 - 0) == 1","statusTrace":"self = <test_material.test_materialSubstitution.TestSMaterialSubstitutionPage object at 0x000002036D9960E0>\nlogin_to_materialsubstitution = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"71a94f59e7b2e4de61f1b2d27999b133\")>\n\n    @allure.story(\"添加单料替代成功\")\n    # @pytest.mark.run(order=1)\n    def test_materialsubstitution_addsingle(self, login_to_materialsubstitution):\n        driver = login_to_materialsubstitution  # WebDriver 实例\n        material = MaterialSubstitutionPage(driver)  # 用 driver 初始化 MaterialSubstitutionPage\n        material.wait_for_loading_to_disappear()\n        before_data = material.get_find_element_xpath('(//span[contains(text(),\"条记录\")])[1]').text\n        before_count = int(re.search(r'\\d+', before_data).group())\n        material.add_material_substitution(num=1)\n    \n        material.click_confirm()\n        message = material.get_find_message()\n        material.wait_for_loading_to_disappear()\n        after_data = material.get_find_element_xpath('(//span[contains(text(),\"条记录\")])[1]').text\n        after_count = int(re.search(r'\\d+', after_data).group())\n>       assert after_count - before_count == 1, f\"新增失败: 新增前 {before_count}, 新增后 {after_count}\"\nE       AssertionError: 新增失败: 新增前 0, 新增后 261\nE       assert (261 - 0) == 1\n\nTests\\test_material\\test_materialSubstitution.py:114: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_materialsubstitution","time":{"start":1764351218998,"stop":1764351229028,"duration":10030},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: 新增失败: 新增前 0, 新增后 261\nassert (261 - 0) == 1","statusTrace":"self = <test_material.test_materialSubstitution.TestSMaterialSubstitutionPage object at 0x000002036D9960E0>\nlogin_to_materialsubstitution = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"71a94f59e7b2e4de61f1b2d27999b133\")>\n\n    @allure.story(\"添加单料替代成功\")\n    # @pytest.mark.run(order=1)\n    def test_materialsubstitution_addsingle(self, login_to_materialsubstitution):\n        driver = login_to_materialsubstitution  # WebDriver 实例\n        material = MaterialSubstitutionPage(driver)  # 用 driver 初始化 MaterialSubstitutionPage\n        material.wait_for_loading_to_disappear()\n        before_data = material.get_find_element_xpath('(//span[contains(text(),\"条记录\")])[1]').text\n        before_count = int(re.search(r'\\d+', before_data).group())\n        material.add_material_substitution(num=1)\n    \n        material.click_confirm()\n        message = material.get_find_message()\n        material.wait_for_loading_to_disappear()\n        after_data = material.get_find_element_xpath('(//span[contains(text(),\"条记录\")])[1]').text\n        after_count = int(re.search(r'\\d+', after_data).group())\n>       assert after_count - before_count == 1, f\"新增失败: 新增前 {before_count}, 新增后 {after_count}\"\nE       AssertionError: 新增失败: 新增前 0, 新增后 261\nE       assert (261 - 0) == 1\n\nTests\\test_material\\test_materialSubstitution.py:114: AssertionError","steps":[],"attachments":[{"uid":"914a8a33585972b5","name":"test_materialsubstitution_addsingle_failure","source":"914a8a33585972b5.png","type":"image/png","size":170446},{"uid":"a05aba8f896f4f90","name":"test_materialsubstitution_addsingle_source","source":"a05aba8f896f4f90.html","type":"text/html","size":1396093},{"uid":"21a772251a002c93","name":"log","source":"21a772251a002c93.txt","type":"text/plain","size":3552}],"parameters":[],"hasContent":true,"stepsCount":0,"attachmentStep":false,"shouldDisplayMessage":true,"attachmentsCount":3},"afterStages":[{"name":"login_to_materialsubstitution::0","time":{"start":1764351241121,"stop":1764351243311,"duration":2190},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"labels":[{"name":"story","value":"添加单料替代成功"},{"name":"feature","value":"物料替代页用例"},{"name":"parentSuite","value":"Tests.test_material"},{"name":"suite","value":"test_materialSubstitution"},{"name":"subSuite","value":"TestSMaterialSubstitutionPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"6672-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_material.test_materialSubstitution"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"ffd8cf837ffa568f.json","parameterValues":[]}