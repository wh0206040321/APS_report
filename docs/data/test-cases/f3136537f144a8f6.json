{"uid":"f3136537f144a8f6","name":"test_materialsubstitution_addgroup","fullName":"Tests.test_material.test_materialSubstitution.TestSMaterialSubstitutionPage#test_materialsubstitution_addgroup","historyId":"2110d31cb55381ba31c8c65b645a1d59","time":{"start":1763403351324,"stop":1763403381650,"duration":30326},"status":"failed","statusMessage":"AssertionError: 新增失败: 新增前 0, 删新增后 261\nassert (261 - 0) == 1","statusTrace":"self = <test_material.test_materialSubstitution.TestSMaterialSubstitutionPage object at 0x000001961BE77460>\nlogin_to_materialsubstitution = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"e1626f4e95689777b84322bc6a9ecac4\")>\n\n    @allure.story(\"添加成组替代成功\")\n    # @pytest.mark.run(order=1)\n    def test_materialsubstitution_addgroup(self, login_to_materialsubstitution):\n        driver = login_to_materialsubstitution  # WebDriver 实例\n        material = MaterialDataPage(driver)  # 用 driver 初始化 MaterialDataPage\n        material.wait_for_loading_to_disappear()\n        before_data = material.get_find_element_xpath('(//span[contains(text(),\"条记录\")])[1]').text\n        before_count = int(re.search(r'\\d+', before_data).group())\n        material.add_material_substitution(num=2, name=\"成组替代\")\n    \n        material.click_confirm()\n        message = material.get_find_message()\n        material.wait_for_loading_to_disappear()\n        after_data = material.get_find_element_xpath('(//span[contains(text(),\"条记录\")])[1]').text\n        after_count = int(re.search(r'\\d+', after_data).group())\n>       assert after_count - before_count == 1, f\"新增失败: 新增前 {before_count}, 删新增后 {after_count}\"\nE       AssertionError: 新增失败: 新增前 0, 删新增后 261\nE       assert (261 - 0) == 1\n\nTests\\test_material\\test_materialSubstitution.py:133: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_materialsubstitution","time":{"start":1763403342210,"stop":1763403351324,"duration":9114},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: 新增失败: 新增前 0, 删新增后 261\nassert (261 - 0) == 1","statusTrace":"self = <test_material.test_materialSubstitution.TestSMaterialSubstitutionPage object at 0x000001961BE77460>\nlogin_to_materialsubstitution = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"e1626f4e95689777b84322bc6a9ecac4\")>\n\n    @allure.story(\"添加成组替代成功\")\n    # @pytest.mark.run(order=1)\n    def test_materialsubstitution_addgroup(self, login_to_materialsubstitution):\n        driver = login_to_materialsubstitution  # WebDriver 实例\n        material = MaterialDataPage(driver)  # 用 driver 初始化 MaterialDataPage\n        material.wait_for_loading_to_disappear()\n        before_data = material.get_find_element_xpath('(//span[contains(text(),\"条记录\")])[1]').text\n        before_count = int(re.search(r'\\d+', before_data).group())\n        material.add_material_substitution(num=2, name=\"成组替代\")\n    \n        material.click_confirm()\n        message = material.get_find_message()\n        material.wait_for_loading_to_disappear()\n        after_data = material.get_find_element_xpath('(//span[contains(text(),\"条记录\")])[1]').text\n        after_count = int(re.search(r'\\d+', after_data).group())\n>       assert after_count - before_count == 1, f\"新增失败: 新增前 {before_count}, 删新增后 {after_count}\"\nE       AssertionError: 新增失败: 新增前 0, 删新增后 261\nE       assert (261 - 0) == 1\n\nTests\\test_material\\test_materialSubstitution.py:133: AssertionError","steps":[],"attachments":[{"uid":"5cede092343207dc","name":"test_materialsubstitution_addgroup_failure","source":"5cede092343207dc.png","type":"image/png","size":170088},{"uid":"988fc0da9cce19d0","name":"test_materialsubstitution_addgroup_source","source":"988fc0da9cce19d0.html","type":"text/html","size":1383123},{"uid":"eb7eb5f5faf03a57","name":"log","source":"eb7eb5f5faf03a57.txt","type":"text/plain","size":4058}],"parameters":[],"attachmentsCount":3,"shouldDisplayMessage":true,"stepsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"login_to_materialsubstitution::0","time":{"start":1763403381816,"stop":1763403383966,"duration":2150},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"物料替代页用例"},{"name":"story","value":"添加成组替代成功"},{"name":"parentSuite","value":"Tests.test_material"},{"name":"suite","value":"test_materialSubstitution"},{"name":"subSuite","value":"TestSMaterialSubstitutionPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"24860-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_material.test_materialSubstitution"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"f3136537f144a8f6.json","parameterValues":[]}