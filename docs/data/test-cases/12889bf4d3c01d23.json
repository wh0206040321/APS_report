{"uid":"12889bf4d3c01d23","name":"test_user_update","fullName":"Tests.test_system.test_userRole.TestUserRolePage#test_user_update","historyId":"7a95de6210969ff180934e2de6e3cbcd","time":{"start":1764890347766,"stop":1764890373279,"duration":25513},"status":"failed","statusMessage":"AssertionError: assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m 保存成功\u001B[90m\u001B[39;49;00m and 0 >= 7)","statusTrace":"self = <test_system.test_userRole.TestUserRolePage object at 0x0000028D6A23FAC0>, login_to_userrole = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"be7249ee1b10ac36db5d43e8bec3fd20\")>\n\n    @allure.story(\"修改用户名称，用户日期，用户类型，密码有效天数，角色代码成功\")\n    # @pytest.mark.run(order=1)\n    def test_user_update(self, login_to_userrole):\n        driver = login_to_userrole  # WebDriver 实例\n        user = UserRolePage(driver)  # 用 driver 初始化 UserRolePage\n        page = LoginPage(driver)\n        name = '1user2'\n        password = 'Qw123456'\n        module = '1测试计划单元标准'\n        user.select_input(name)\n        sleep(1)\n        user.click_button(f'//table[@class=\"vxe-table--body\"]//tr/td[2]//span[text()=\"{name}\"]')\n        sleep(1)\n        user.click_all_button(\"编辑\")\n        sleep(1)\n    \n        user.enter_texts('//div[label[text()=\"用户名称\"]]//input', '修改用户名称')\n    \n        user.click_button('//div[label[text()=\"用户类型\"]]//div[@class=\"ivu-select-selection\"]')\n        user.click_button('//ul/li[text()=\"计划用户\"]')\n        ele = user.get_find_element_xpath('//div[label[text()=\"密码有效天数\"]]//input')\n        ele.send_keys(Keys.CONTROL, \"a\")\n        ele.send_keys(Keys.DELETE)\n        user.enter_texts('//div[label[text()=\"密码有效天数\"]]//input', '2')\n    \n        user.click_button('//div[label[text()=\"用户有效日期\"]]//input')\n        user.click_button(\n            '//div[@class=\"ivu-date-picker-cells\"]/span[@class=\"ivu-date-picker-cells-cell ivu-date-picker-cells-cell-today ivu-date-picker-cells-focused\"]/following-sibling::span[1]')\n    \n        user.enter_texts('//div[div[p[text()=\"角色代码\"]]]//input', '1测试角色代码3')\n        sleep(2)\n        user.click_button('(//table[@class=\"vxe-table--body\"]//tr[1]/td[2]/div/span)[2]')\n    \n        before_name = user.get_find_element_xpath('//div[label[text()=\"用户名称\"]]//input').get_attribute(\"value\")\n        before_sel = user.get_find_element_xpath('//div[label[text()=\"用户类型\"]]//div[@class=\"ivu-select-selection\"]//span').text\n        before_pass = user.get_find_element_xpath('//div[label[text()=\"密码有效天数\"]]//input').get_attribute(\"value\")\n        user.click_all_button(\"保存\")\n        sleep(1)\n        message = user.get_find_message()\n    \n        user.click_button(f'//table[@class=\"vxe-table--body\"]//tr/td[2]//span[text()=\"{name}\"]')\n        sleep(1)\n        user.click_all_button(\"编辑\")\n        after_name = user.get_find_element_xpath('//div[label[text()=\"用户名称\"]]//input').get_attribute(\"value\")\n        after_sel = user.get_find_element_xpath(\n            '//div[label[text()=\"用户类型\"]]//div[@class=\"ivu-select-selection\"]//span').text\n        after_pass = user.get_find_element_xpath('//div[label[text()=\"密码有效天数\"]]//input').get_attribute(\n            \"value\")\n        user.click_button('//div[@class=\"flex-alignItems-center\"]')\n        user.click_button('//ul/li/div[text()=\" 注销 \"]')\n        page.login(name, password, module)\n        num_ = len(user.finds_elements(By.XPATH, f'//div[@class=\"listDivCon\"]/div'))\n        swich_name = user.get_find_element_xpath(f'//div[@class=\"ivu-dropdown-rel\"]/div').text\n>       assert message == \"保存成功\" and num_ >= 7 and swich_name == module\nE       AssertionError: assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m 保存成功\u001B[90m\u001B[39;49;00m and 0 >= 7)\n\nTests\\test_system\\test_userRole.py:669: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_userrole","time":{"start":1764890335858,"stop":1764890347765,"duration":11907},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\n  \n  \u001B[0m\u001B[90m \u001B[39;49;00m 保存成功\u001B[90m\u001B[39;49;00m and 0 >= 7)","statusTrace":"self = <test_system.test_userRole.TestUserRolePage object at 0x0000028D6A23FAC0>, login_to_userrole = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"be7249ee1b10ac36db5d43e8bec3fd20\")>\n\n    @allure.story(\"修改用户名称，用户日期，用户类型，密码有效天数，角色代码成功\")\n    # @pytest.mark.run(order=1)\n    def test_user_update(self, login_to_userrole):\n        driver = login_to_userrole  # WebDriver 实例\n        user = UserRolePage(driver)  # 用 driver 初始化 UserRolePage\n        page = LoginPage(driver)\n        name = '1user2'\n        password = 'Qw123456'\n        module = '1测试计划单元标准'\n        user.select_input(name)\n        sleep(1)\n        user.click_button(f'//table[@class=\"vxe-table--body\"]//tr/td[2]//span[text()=\"{name}\"]')\n        sleep(1)\n        user.click_all_button(\"编辑\")\n        sleep(1)\n    \n        user.enter_texts('//div[label[text()=\"用户名称\"]]//input', '修改用户名称')\n    \n        user.click_button('//div[label[text()=\"用户类型\"]]//div[@class=\"ivu-select-selection\"]')\n        user.click_button('//ul/li[text()=\"计划用户\"]')\n        ele = user.get_find_element_xpath('//div[label[text()=\"密码有效天数\"]]//input')\n        ele.send_keys(Keys.CONTROL, \"a\")\n        ele.send_keys(Keys.DELETE)\n        user.enter_texts('//div[label[text()=\"密码有效天数\"]]//input', '2')\n    \n        user.click_button('//div[label[text()=\"用户有效日期\"]]//input')\n        user.click_button(\n            '//div[@class=\"ivu-date-picker-cells\"]/span[@class=\"ivu-date-picker-cells-cell ivu-date-picker-cells-cell-today ivu-date-picker-cells-focused\"]/following-sibling::span[1]')\n    \n        user.enter_texts('//div[div[p[text()=\"角色代码\"]]]//input', '1测试角色代码3')\n        sleep(2)\n        user.click_button('(//table[@class=\"vxe-table--body\"]//tr[1]/td[2]/div/span)[2]')\n    \n        before_name = user.get_find_element_xpath('//div[label[text()=\"用户名称\"]]//input').get_attribute(\"value\")\n        before_sel = user.get_find_element_xpath('//div[label[text()=\"用户类型\"]]//div[@class=\"ivu-select-selection\"]//span').text\n        before_pass = user.get_find_element_xpath('//div[label[text()=\"密码有效天数\"]]//input').get_attribute(\"value\")\n        user.click_all_button(\"保存\")\n        sleep(1)\n        message = user.get_find_message()\n    \n        user.click_button(f'//table[@class=\"vxe-table--body\"]//tr/td[2]//span[text()=\"{name}\"]')\n        sleep(1)\n        user.click_all_button(\"编辑\")\n        after_name = user.get_find_element_xpath('//div[label[text()=\"用户名称\"]]//input').get_attribute(\"value\")\n        after_sel = user.get_find_element_xpath(\n            '//div[label[text()=\"用户类型\"]]//div[@class=\"ivu-select-selection\"]//span').text\n        after_pass = user.get_find_element_xpath('//div[label[text()=\"密码有效天数\"]]//input').get_attribute(\n            \"value\")\n        user.click_button('//div[@class=\"flex-alignItems-center\"]')\n        user.click_button('//ul/li/div[text()=\" 注销 \"]')\n        page.login(name, password, module)\n        num_ = len(user.finds_elements(By.XPATH, f'//div[@class=\"listDivCon\"]/div'))\n        swich_name = user.get_find_element_xpath(f'//div[@class=\"ivu-dropdown-rel\"]/div').text\n>       assert message == \"保存成功\" and num_ >= 7 and swich_name == module\nE       AssertionError: assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\nE         \nE         \u001B[0m\u001B[90m \u001B[39;49;00m 保存成功\u001B[90m\u001B[39;49;00m and 0 >= 7)\n\nTests\\test_system\\test_userRole.py:669: AssertionError","steps":[],"attachments":[{"uid":"14c7183be05822e1","name":"test_user_update_failure","source":"14c7183be05822e1.png","type":"image/png","size":41554},{"uid":"384cc3fb2d2fb77f","name":"test_user_update_source","source":"384cc3fb2d2fb77f.html","type":"text/html","size":808796},{"uid":"d292c3b98380f3eb","name":"log","source":"d292c3b98380f3eb.txt","type":"text/plain","size":5255}],"parameters":[],"hasContent":true,"stepsCount":0,"attachmentStep":false,"attachmentsCount":3,"shouldDisplayMessage":true},"afterStages":[{"name":"login_to_userrole::0","time":{"start":1764890373416,"stop":1764890375583,"duration":2167},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"feature","value":"用户权限管理页用例"},{"name":"story","value":"修改用户名称，用户日期，用户类型，密码有效天数，角色代码成功"},{"name":"parentSuite","value":"Tests.test_system"},{"name":"suite","value":"test_userRole"},{"name":"subSuite","value":"TestUserRolePage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"28764-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_system.test_userRole"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"12889bf4d3c01d23.json","parameterValues":[]}