{"uid":"3b68a2609e903c2c","name":"test_setting_statistics_deletesuceess","fullName":"Tests.test_items.test_setting.TestSettingPage#test_setting_statistics_deletesuceess","historyId":"d019f84ea2aa1d9a3cb23693970fb7eb","time":{"start":1761243003749,"stop":1761243057010,"duration":53261},"status":"failed","statusMessage":"AssertionError: assert 1 == 0\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"c321c9ea4ef87a02c8a25ba86053c5fe\", element=\"f.7F4E169DBB348816B8D20EF82B25AEE6.d.0B73300541E03F01EB4617CDF93D7F0F.e.259\")>])","statusTrace":"self = <test_items.test_setting.TestSettingPage object at 0x000001FC18DA1FC0>, login_to_setting = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"c321c9ea4ef87a02c8a25ba86053c5fe\")>\n\n    @allure.story(\"循环删除统计数据成功\")\n    # @pytest.mark.run(order=1)\n    def test_setting_statistics_deletesuceess(self, login_to_setting):\n        driver = login_to_setting  # WebDriver 实例\n        setting = SettingPage(driver)  # 用 driver 初始化 SettingPage\n        layout = \"测试布局A\"\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        i = 2\n        while i <= 13:\n            try:\n                element = driver.find_element(By.XPATH, f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                driver.execute_script(\"arguments[0].scrollIntoView();\", element)\n    \n                # 点击三个点\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                # 点击刪除\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div//li[text()=\"删除\"]')\n                # 确认删除\n                setting.click_button(\n                    '//div[@class=\"ivu-modal-confirm-footer\"]/button[@class=\"ivu-btn ivu-btn-primary\"]')\n                sleep(3)\n            except NoSuchElementException:\n                print(f\"统计图{i} 不存在，跳过\")\n            finally:\n                i += 1\n    \n        sleep(3)\n        driver.refresh()\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        ele = driver.find_elements(By.XPATH, '//div[@class=\"statisticalListItemTitle\"]/span[contains(text(),\"统计图\")]')\n>       assert len(ele) == 0\nE       assert 1 == 0\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"c321c9ea4ef87a02c8a25ba86053c5fe\", element=\"f.7F4E169DBB348816B8D20EF82B25AEE6.d.0B73300541E03F01EB4617CDF93D7F0F.e.259\")>])\n\nTests\\test_items\\test_setting.py:1830: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_setting","time":{"start":1761242981427,"stop":1761243003747,"duration":22320},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 1 == 0\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"c321c9ea4ef87a02c8a25ba86053c5fe\", element=\"f.7F4E169DBB348816B8D20EF82B25AEE6.d.0B73300541E03F01EB4617CDF93D7F0F.e.259\")>])","statusTrace":"self = <test_items.test_setting.TestSettingPage object at 0x000001FC18DA1FC0>, login_to_setting = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"c321c9ea4ef87a02c8a25ba86053c5fe\")>\n\n    @allure.story(\"循环删除统计数据成功\")\n    # @pytest.mark.run(order=1)\n    def test_setting_statistics_deletesuceess(self, login_to_setting):\n        driver = login_to_setting  # WebDriver 实例\n        setting = SettingPage(driver)  # 用 driver 初始化 SettingPage\n        layout = \"测试布局A\"\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        i = 2\n        while i <= 13:\n            try:\n                element = driver.find_element(By.XPATH, f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                driver.execute_script(\"arguments[0].scrollIntoView();\", element)\n    \n                # 点击三个点\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                # 点击刪除\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div//li[text()=\"删除\"]')\n                # 确认删除\n                setting.click_button(\n                    '//div[@class=\"ivu-modal-confirm-footer\"]/button[@class=\"ivu-btn ivu-btn-primary\"]')\n                sleep(3)\n            except NoSuchElementException:\n                print(f\"统计图{i} 不存在，跳过\")\n            finally:\n                i += 1\n    \n        sleep(3)\n        driver.refresh()\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        ele = driver.find_elements(By.XPATH, '//div[@class=\"statisticalListItemTitle\"]/span[contains(text(),\"统计图\")]')\n>       assert len(ele) == 0\nE       assert 1 == 0\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"c321c9ea4ef87a02c8a25ba86053c5fe\", element=\"f.7F4E169DBB348816B8D20EF82B25AEE6.d.0B73300541E03F01EB4617CDF93D7F0F.e.259\")>])\n\nTests\\test_items\\test_setting.py:1830: AssertionError","steps":[],"attachments":[{"uid":"15e02ac3a87187b2","name":"test_setting_statistics_deletesuceess_failure","source":"15e02ac3a87187b2.png","type":"image/png","size":88074},{"uid":"a0976ca518112027","name":"test_setting_statistics_deletesuceess_source","source":"a0976ca518112027.html","type":"text/html","size":1308773},{"uid":"4039753d7f3bad0c","name":"log","source":"4039753d7f3bad0c.txt","type":"text/plain","size":7290}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentStep":false,"attachmentsCount":3,"shouldDisplayMessage":true},"afterStages":[{"name":"login_to_setting::0","time":{"start":1761243057886,"stop":1761243060437,"duration":2551},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentStep":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"story","value":"循环删除统计数据成功"},{"name":"feature","value":"标准应用设置测试用例"},{"name":"parentSuite","value":"Tests.test_items"},{"name":"suite","value":"test_setting"},{"name":"subSuite","value":"TestSettingPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"21764-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_items.test_setting"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"85d0787184341143","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"974ce9da6aa7dcf8fd2364c08780b452\", element=\"f.B3D5A44D20ABE50F4CE74E15B3D4A99C.d.80CF851FD4F774B07C1C6DB626BCB909.e.403\")>])","time":{"start":1761242902201,"stop":1761242977863,"duration":75662}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"3b68a2609e903c2c.json","parameterValues":[]}