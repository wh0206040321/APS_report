{"uid":"eaf583c1670d2459","name":"test_setting_statistics_deletesuceess","fullName":"Tests.test_items.test_setting.TestSettingPage#test_setting_statistics_deletesuceess","historyId":"d019f84ea2aa1d9a3cb23693970fb7eb","time":{"start":1761242902201,"stop":1761242977863,"duration":75662},"status":"failed","statusMessage":"AssertionError: assert 1 == 0\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"974ce9da6aa7dcf8fd2364c08780b452\", element=\"f.B3D5A44D20ABE50F4CE74E15B3D4A99C.d.80CF851FD4F774B07C1C6DB626BCB909.e.403\")>])","statusTrace":"self = <test_items.test_setting.TestSettingPage object at 0x000001FC18DA1FC0>, login_to_setting = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"974ce9da6aa7dcf8fd2364c08780b452\")>\n\n    @allure.story(\"循环删除统计数据成功\")\n    # @pytest.mark.run(order=1)\n    def test_setting_statistics_deletesuceess(self, login_to_setting):\n        driver = login_to_setting  # WebDriver 实例\n        setting = SettingPage(driver)  # 用 driver 初始化 SettingPage\n        layout = \"测试布局A\"\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        i = 2\n        while i <= 13:\n            try:\n                element = driver.find_element(By.XPATH, f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                driver.execute_script(\"arguments[0].scrollIntoView();\", element)\n    \n                # 点击三个点\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                # 点击刪除\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div//li[text()=\"删除\"]')\n                # 确认删除\n                setting.click_button(\n                    '//div[@class=\"ivu-modal-confirm-footer\"]/button[@class=\"ivu-btn ivu-btn-primary\"]')\n                sleep(3)\n            except NoSuchElementException:\n                print(f\"统计图{i} 不存在，跳过\")\n            finally:\n                i += 1\n    \n        sleep(3)\n        driver.refresh()\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        ele = driver.find_elements(By.XPATH, '//div[@class=\"statisticalListItemTitle\"]/span[contains(text(),\"统计图\")]')\n>       assert len(ele) == 0\nE       assert 1 == 0\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"974ce9da6aa7dcf8fd2364c08780b452\", element=\"f.B3D5A44D20ABE50F4CE74E15B3D4A99C.d.80CF851FD4F774B07C1C6DB626BCB909.e.403\")>])\n\nTests\\test_items\\test_setting.py:1830: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login_to_setting","time":{"start":1761242885860,"stop":1761242902199,"duration":16339},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 1 == 0\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"974ce9da6aa7dcf8fd2364c08780b452\", element=\"f.B3D5A44D20ABE50F4CE74E15B3D4A99C.d.80CF851FD4F774B07C1C6DB626BCB909.e.403\")>])","statusTrace":"self = <test_items.test_setting.TestSettingPage object at 0x000001FC18DA1FC0>, login_to_setting = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"974ce9da6aa7dcf8fd2364c08780b452\")>\n\n    @allure.story(\"循环删除统计数据成功\")\n    # @pytest.mark.run(order=1)\n    def test_setting_statistics_deletesuceess(self, login_to_setting):\n        driver = login_to_setting  # WebDriver 实例\n        setting = SettingPage(driver)  # 用 driver 初始化 SettingPage\n        layout = \"测试布局A\"\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        i = 2\n        while i <= 13:\n            try:\n                element = driver.find_element(By.XPATH, f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                driver.execute_script(\"arguments[0].scrollIntoView();\", element)\n    \n                # 点击三个点\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div')\n                # 点击刪除\n                setting.click_button(f'//span[text()=\"统计图{i} \"]/following-sibling::div//li[text()=\"删除\"]')\n                # 确认删除\n                setting.click_button(\n                    '//div[@class=\"ivu-modal-confirm-footer\"]/button[@class=\"ivu-btn ivu-btn-primary\"]')\n                sleep(3)\n            except NoSuchElementException:\n                print(f\"统计图{i} 不存在，跳过\")\n            finally:\n                i += 1\n    \n        sleep(3)\n        driver.refresh()\n        setting.click_button(f'//div[@class=\"tabsDivItemCon\"]/div[text()=\" {layout} \"]')\n        setting.click_button('//div[@class=\"toolTabsDiv\"]/div[2]/div[4]//i')\n        ele = driver.find_elements(By.XPATH, '//div[@class=\"statisticalListItemTitle\"]/span[contains(text(),\"统计图\")]')\n>       assert len(ele) == 0\nE       assert 1 == 0\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"974ce9da6aa7dcf8fd2364c08780b452\", element=\"f.B3D5A44D20ABE50F4CE74E15B3D4A99C.d.80CF851FD4F774B07C1C6DB626BCB909.e.403\")>])\n\nTests\\test_items\\test_setting.py:1830: AssertionError","steps":[],"attachments":[{"uid":"c4491f4f0ed62f0b","name":"test_setting_statistics_deletesuceess_failure","source":"c4491f4f0ed62f0b.png","type":"image/png","size":88074},{"uid":"2a1f0665734b9e45","name":"test_setting_statistics_deletesuceess_source","source":"2a1f0665734b9e45.html","type":"text/html","size":1308770},{"uid":"94efb5d78429c429","name":"log","source":"94efb5d78429c429.txt","type":"text/plain","size":6007}],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":3,"hasContent":true,"stepsCount":0,"attachmentStep":false},"afterStages":[{"name":"login_to_setting::0","time":{"start":1761242978855,"stop":1761242981406,"duration":2551},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"stepsCount":0,"attachmentStep":false}],"labels":[{"name":"story","value":"循环删除统计数据成功"},{"name":"feature","value":"标准应用设置测试用例"},{"name":"parentSuite","value":"Tests.test_items"},{"name":"suite","value":"test_setting"},{"name":"subSuite","value":"TestSettingPage"},{"name":"host","value":"WIN-20240820MJV"},{"name":"thread","value":"21764-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.test_items.test_setting"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"eaf583c1670d2459.json","parameterValues":[]}