{"name": "test_imp_update", "status": "failed", "statusDetails": {"message": "AssertionError: assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\n  \n  \u001b[0m\u001b[90m \u001b[39;49;00m 保存成功\u001b[90m\u001b[39;49;00m and 1 == 0)\n +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"5e6c4b8576c7ad13cb2855dc31850c2c\", element=\"f.E895E0C306549D6E3560E48F6EF56A13.d.10B785E4E33813BAC87AE8488A1107B2.e.325\")>])", "trace": "self = <test_system.test_imp.TestImpPage object at 0x00000258F3F0EC50>\nlogin_to_imp = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"5e6c4b8576c7ad13cb2855dc31850c2c\")>\n\n    @allure.story(\"编辑方案成功，取消勾选客户，勾选工序成功。右键映射点击确定不报错，点击方案不报错\")\n    # @pytest.mark.run(order=1)\n    def test_imp_update(self, login_to_imp):\n        driver = login_to_imp  # WebDriver 实例\n        imp = ImpPage(driver)  # 用 driver 初始化 ImpPage\n        name = \"1导入设置方案\"\n        kh = \"客户\"\n        gx = \"工序\"\n        imp.click_button(\n            '//div[@class=\"flex-alignItems-center background-ffffff h-36px w-b-100 m-l-12 toolbar-container\"]//input[@class=\"ivu-select-input\"]')\n        WebDriverWait(driver, 10).until(EC.element_to_be_clickable((By.XPATH, f'//ul/li[text()=\"{name}\"]'))).click()\n        imp.click_button('//ul[@class=\"ivu-tree-children\"]//span[text()=\"导入\"]')\n        imp.click_impall_button(\"编辑\")\n        sleep(1)\n        imp.click_button(f'//ul[@class=\"ivu-tree-children\"]//span[text()=\"{kh}\"]/ancestor::ul[1]//label/span')\n        imp.click_button(f'//ul[@class=\"ivu-tree-children\"]//span[text()=\"{gx}\"]/ancestor::ul[1]//label/span')\n        ele = imp.get_find_element_xpath(f'//ul[@class=\"ivu-tree-children\"]//span[text()=\"{gx}\"]')\n        ActionChains(driver).context_click(ele).perform()\n        imp.click_button('//li[text()=\"映射编辑\"]')\n        sleep(1)\n        imp.click_button(\n            '//div[@class=\"h-40px flex-justify-end flex-align-items-end b-t-s-d9e3f3\"]//span[text()=\"确定\"]')\n        imp.click_impall_button(\"保存\")\n        message = imp.get_find_message()\n        eles1 = imp.finds_elements(By.XPATH,\n                                  f'//ul[@class=\"ivu-tree-children\"]//span[@class=\"valueSpan\" and text()=\"{kh}\"]')\n        eles2 = imp.finds_elements(By.XPATH,\n                                  f'//ul[@class=\"ivu-tree-children\"]//span[@class=\"valueSpan\" and text()=\"{gx}\"]')\n        imp.click_button('//div[@class=\"d-alIt-ba cursor-pointer m-l-22 col-black font14\"]//span[text()=\" 执行方案\"]')\n        imp.click_button('//div[@class=\"ivu-modal-confirm-footer\"]//span[text()=\"确定\"]')\n        eles = imp.finds_elements(By.XPATH, '//i[@class=\"ivu-icon ivu-icon-ios-close-circle\"]')\n        assert len(eles) == 0\n>       assert message == \"保存成功\" and len(eles1) == 0 and len(eles2) == 1\nE       assert ('\\u4fdd\\u5b58\\u6210\\u529f' == '\\u4fdd\\u5b58\\u6210\\u529f'\nE         \nE         \u001b[0m\u001b[90m \u001b[39;49;00m 保存成功\u001b[90m\u001b[39;49;00m and 1 == 0)\nE        +  where 1 = len([<selenium.webdriver.remote.webelement.WebElement (session=\"5e6c4b8576c7ad13cb2855dc31850c2c\", element=\"f.E895E0C306549D6E3560E48F6EF56A13.d.10B785E4E33813BAC87AE8488A1107B2.e.325\")>])\n\ntest_imp.py:181: AssertionError"}, "attachments": [{"name": "test_imp_update_failure", "source": "257f310e-463a-4e37-9765-941d0aa117eb-attachment.png", "type": "image/png"}, {"name": "test_imp_update_source", "source": "522bc1b0-5808-403a-8e17-adbce6e54a01-attachment.html", "type": "text/html"}, {"name": "log", "source": "eef79424-1734-41f0-9c21-b6483852d2a0-attachment.txt", "type": "text/plain"}], "start": 1757668124145, "stop": 1757668133104, "uuid": "6292620d-2ed9-42e9-8b4b-29b01f38d1da", "historyId": "6c925cfdaf73b2b37df6c7fddf34649b", "testCaseId": "6c925cfdaf73b2b37df6c7fddf34649b", "fullName": "Tests.test_system.test_imp.TestImpPage#test_imp_update", "labels": [{"name": "feature", "value": "导入设置页用例"}, {"name": "story", "value": "编辑方案成功，取消勾选客户，勾选工序成功。右键映射点击确定不报错，点击方案不报错"}, {"name": "tag", "value": "run(order=207)"}, {"name": "parentSuite", "value": "Tests.test_system"}, {"name": "suite", "value": "test_imp"}, {"name": "subSuite", "value": "TestImpPage"}, {"name": "host", "value": "WIN-20240820MJV"}, {"name": "thread", "value": "20984-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Tests.test_system.test_imp"}]}